	OPT l-

	ICL "hardware.s"

.ENUM	@dmactl
	blank	= %00
	narrow	= %01
	standard= %10
	wide	= %11
	missiles= %100
	players	= %1000
	lineX1	= %10000
	lineX2	= %00000
	dma	= %100000
.ENDE

SCR_WID	EQU 42
SW		EQU SCR_WID

SCREEN_MODE			EQU	$0E
SM					EQU	SCREEN_MODE
SCREEN_MODE_HI_RES 	EQU $0F
SM_HR				EQU	SCREEN_MODE_HI_RES
BLANK_LINE			EQU $70
SCREEN_ADR			EQU	$40
DISP_LIST			EQU	$41
DLI_INT				EQU	$80

SCR0 				EQU	128
SCR1 				EQU	SCR0 +2
SCR2 				EQU	SCR1 +2
SCR3 				EQU	SCR2 +2
SCR4 				EQU	SCR3 +2
SCR5 				EQU	SCR4 +2

SCN_ZP_01 			EQU SCR5 +2
SCN_ZP_02 			EQU SCN_ZP_01 +2
SCN_ZP_03 			EQU SCN_ZP_02 +2
SCN_ZP_04 			EQU SCN_ZP_03 +2
SCN_ZP_05 			EQU SCN_ZP_04 +2
SCN_ZP_06 			EQU SCN_ZP_05 +2
SCN_ZP_07 			EQU SCN_ZP_06 +2
SCN_ZP_08 			EQU SCN_ZP_07 +2
SCN_ZP_09 			EQU SCN_ZP_08 +2
SCN_ZP_10 			EQU SCN_ZP_09 +2
SCN_ZP_11 			EQU SCN_ZP_10 +2
SCN_ZP_12 			EQU SCN_ZP_11 +2
SCN_ZP_13 			EQU SCN_ZP_12 +2
SCN_ZP_14 			EQU SCN_ZP_13 +2
SCN_ZP_15 			EQU SCN_ZP_14 +2
SCN_ZP_16 			EQU SCN_ZP_15 +2
SCN_ZP_17 			EQU SCN_ZP_16 +2
SCN_ZP_18 			EQU SCN_ZP_17 +2
SCN_ZP_19 			EQU SCN_ZP_18 +2
SCN_ZP_20 			EQU SCN_ZP_19 +2
SCN_ZP_21 			EQU SCN_ZP_20 +2
SCN_ZP_22 			EQU SCN_ZP_21 +2
SCN_ZP_23 			EQU SCN_ZP_22 +2
SCN_ZP_24 			EQU SCN_ZP_23 +2
SCN_ZP_25 			EQU SCN_ZP_24 +2
SCN_ZP_26 			EQU SCN_ZP_25 +2
SCN_ZP_27 			EQU SCN_ZP_26 +2
SCN_ZP_28 			EQU SCN_ZP_27 +2
SCN_ZP_29 			EQU SCN_ZP_28 +2
SCN_ZP_30 			EQU SCN_ZP_29 +2
SCN_ZP_31 			EQU SCN_ZP_30 +2
SCN_ZP_32 			EQU SCN_ZP_31 +2

MAP_LFT_ADDR 		EQU SCN_ZP_32 +2
MAP_RGT_ADDR 		EQU MAP_LFT_ADDR +2
MAP_POS 			EQU MAP_RGT_ADDR +2

MAP_PIXEL 			EQU MAP_POS +2


;	ORG $2000\ mva #$ff portb\ rts\ ini $2000; ---	BASIC switch OFF

	ORG $2000

MAIN	LDA $14
		CMP	$14
		BEQ	MAIN		; :cmp:req $14		;wait 1 frame

		SEI				; stop IRQ interrupts

		CLD
		CLV

		MVA #$00 NMIEN	; disable NMI interrupts
		STA DMACTL		; disable antic
;		STA	SDMCTL		; disable antic shadow

		MVA #$FE PORTB	; switch off ROM to get 16k more ram (and basic?)

		MWA #NMI $FFFA	; new NMI handler

;		MVA #$C0 NMIEN	; switch on NMI+DLI again




		LDA #%01010101
		LDX #<GRY_LINE_ADR
		LDY #>GRY_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		LDA #%10101010
		LDX #<BLK_LINE_ADR
		LDY #>BLK_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		LDA #%11111111 ; 00000000
		LDX #<(TXT_SCR_ADR -2)
		LDY #>(TXT_SCR_ADR -2)
		STX SCR0+0
		STY SCR0+1
		LDX #>((5*40)+1)
		LDY #<((5*40)+1)
		JSR	MEMSET

		LDA #%10101010
		LDX #<MAP_SCR_ADR
		LDY #>MAP_SCR_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>(20*40)
		LDY #<(20*40)
		JSR	MEMSET

		LDA #%01010101
		LDX #<SCN0_LINE000
		LDY #>SCN0_LINE000
		STX SCR0+0
		STY SCR0+1
		LDX #<(WHT_LINE_ADR - SCN0_LINE000)
		LDX #>(WHT_LINE_ADR - SCN0_LINE000)
;		JSR	MEMSET

		LDA #%11111111 ;0001111
		LDX #<WHT_LINE_ADR
		LDY #>WHT_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		JSR SET_LANDSCAPE
		LDX #0
		LDY #0
		JSR CALC_LANDSCAPE_CHAR_PIXEL
		JSR DRW_LANDSCAPE

		MVA #$C0 NMIEN	; enable NMI+DLI


MLOOP 	JMP MLOOP

.MACRO SET_LANDSCAPE_ZP SCN_ADDR, ZP_ADDR
			LDA #<:1
			STA :2
			LDA #>:1
			STA :2 +1
.ENDM

.LOCAL 	SET_LANDSCAPE

		SET_LANDSCAPE_ZP SCN0_LINE120, SCN_ZP_01
		SET_LANDSCAPE_ZP SCN0_LINE121, SCN_ZP_02
		SET_LANDSCAPE_ZP SCN0_LINE122, SCN_ZP_03
		SET_LANDSCAPE_ZP SCN0_LINE123, SCN_ZP_04
		SET_LANDSCAPE_ZP SCN0_LINE124, SCN_ZP_05
		SET_LANDSCAPE_ZP SCN0_LINE125, SCN_ZP_06
		SET_LANDSCAPE_ZP SCN0_LINE126, SCN_ZP_07
		SET_LANDSCAPE_ZP SCN0_LINE127, SCN_ZP_08

		SET_LANDSCAPE_ZP SCN0_LINE128, SCN_ZP_09
		SET_LANDSCAPE_ZP SCN0_LINE129, SCN_ZP_10
		SET_LANDSCAPE_ZP SCN0_LINE130, SCN_ZP_11
		SET_LANDSCAPE_ZP SCN0_LINE131, SCN_ZP_12
		SET_LANDSCAPE_ZP SCN0_LINE132, SCN_ZP_13
		SET_LANDSCAPE_ZP SCN0_LINE133, SCN_ZP_14
		SET_LANDSCAPE_ZP SCN0_LINE134, SCN_ZP_15
		SET_LANDSCAPE_ZP SCN0_LINE135, SCN_ZP_16

		SET_LANDSCAPE_ZP SCN0_LINE136, SCN_ZP_17
		SET_LANDSCAPE_ZP SCN0_LINE137, SCN_ZP_18
		SET_LANDSCAPE_ZP SCN0_LINE138, SCN_ZP_19
		SET_LANDSCAPE_ZP SCN0_LINE139, SCN_ZP_20
		SET_LANDSCAPE_ZP SCN0_LINE140, SCN_ZP_21
		SET_LANDSCAPE_ZP SCN0_LINE141, SCN_ZP_22
		SET_LANDSCAPE_ZP SCN0_LINE142, SCN_ZP_23
		SET_LANDSCAPE_ZP SCN0_LINE143, SCN_ZP_24

		SET_LANDSCAPE_ZP SCN0_LINE144, SCN_ZP_25
		SET_LANDSCAPE_ZP SCN0_LINE145, SCN_ZP_26
		SET_LANDSCAPE_ZP SCN0_LINE146, SCN_ZP_27
		SET_LANDSCAPE_ZP SCN0_LINE147, SCN_ZP_28
		SET_LANDSCAPE_ZP SCN0_LINE148, SCN_ZP_29
		SET_LANDSCAPE_ZP SCN0_LINE149, SCN_ZP_30
		SET_LANDSCAPE_ZP SCN0_LINE150, SCN_ZP_31
		SET_LANDSCAPE_ZP SCN0_LINE150, SCN_ZP_32

;		LDA #>MAP_LFT
;		STA MAP_LFT_ADDR+1
;		LDA #>MAP_RGT
;		STA MAP_RGT_ADDR+1

;		LDA	#0
;		STA MAP_LFT_ADDR
;		STA MAP_RGT_ADDR
	
		RTS		
.ENDL

.LOCAL	CALC_LANDSCAPE_CHAR_PIXEL ; convert 0-1023 to 0-3 pixel pos + 0-255 map pos
		TXA
		AND #%00000011
		STA MAP_PIXEL

		STY MAP_LFT_ADDR
		TAY
		TXA

		LDX MAP_SCL_LFT_MSB,Y
		STX MAP_LFT_ADDR +1
		LDX MAP_SCL_RGT_MSB,Y
		STX MAP_RGT_ADDR +1

		LDX MAP_SCL_LFT_VAL,Y
		STX DRW_LANDSCAPE.LFT_PLT +1
		LDX MAP_SCL_RGT_VAL,Y
		STX DRW_LANDSCAPE.RGT_PLT +1

		LSR MAP_LFT_ADDR
		ROR
		LSR MAP_LFT_ADDR
		ROR

		TAX
		CLC
		ADC MAP_SCL_LFT_ADD,Y
		STA MAP_LFT_ADDR
		TXA
		CLC
		ADC MAP_SCL_RGT_ADD,Y
		STA MAP_RGT_ADDR

		RTS
.ENDL

.MACRO SET_LANDSCAPE_PIXEL map_addr_l, map_addr_r, zp_addr_l, zp_addr_r
		LDA (:1),Y
		STA :3 +1
		LDA (:2),Y
		STA :4 +1
.ENDM

.LOCAL	DRW_LANDSCAPE
		LDY #0
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_00, ZP_ADDR_RGT_00
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_01, ZP_ADDR_RGT_01
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_02, ZP_ADDR_RGT_02
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_03, ZP_ADDR_RGT_03
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_04, ZP_ADDR_RGT_04
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_05, ZP_ADDR_RGT_05
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_06, ZP_ADDR_RGT_06
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_07, ZP_ADDR_RGT_07
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_08, ZP_ADDR_RGT_08
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_09, ZP_ADDR_RGT_09

		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_10, ZP_ADDR_RGT_10
 		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_11, ZP_ADDR_RGT_11
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_12, ZP_ADDR_RGT_12
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_13, ZP_ADDR_RGT_13
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_14, ZP_ADDR_RGT_14
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_15, ZP_ADDR_RGT_15
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_16, ZP_ADDR_RGT_16
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_17, ZP_ADDR_RGT_17
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_18, ZP_ADDR_RGT_18
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_19, ZP_ADDR_RGT_19

		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_20, ZP_ADDR_RGT_20
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_21, ZP_ADDR_RGT_21
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_22, ZP_ADDR_RGT_22
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_23, ZP_ADDR_RGT_23
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_24, ZP_ADDR_RGT_24
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_25, ZP_ADDR_RGT_25
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_26, ZP_ADDR_RGT_26
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_27, ZP_ADDR_RGT_27
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_28, ZP_ADDR_RGT_28
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_29, ZP_ADDR_RGT_29

		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_30, ZP_ADDR_RGT_30
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_31, ZP_ADDR_RGT_31
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_32, ZP_ADDR_RGT_32
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_33, ZP_ADDR_RGT_33
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_34, ZP_ADDR_RGT_34
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_35, ZP_ADDR_RGT_35
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_36, ZP_ADDR_RGT_36
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_37, ZP_ADDR_RGT_37
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_38, ZP_ADDR_RGT_38
		INY
		SET_LANDSCAPE_PIXEL MAP_LFT_ADDR, MAP_RGT_ADDR, ZP_ADDR_LFT_39, ZP_ADDR_RGT_39

LFT_PLT	LDA #%11010000
RGT_PLT LDX #%00001101

CLR_LANDSCAPE
		LDY #2
ZP_ADDR_LFT_00 STA (0),Y 
		INY
ZP_ADDR_LFT_01 STA (0),Y
		INY
ZP_ADDR_LFT_02 STA (0),Y
		INY
ZP_ADDR_LFT_03 STA (0),Y
		INY
ZP_ADDR_LFT_04 STA (0),Y
		INY
ZP_ADDR_LFT_05 STA (0),Y
		INY
ZP_ADDR_LFT_06 STA (0),Y
		INY
ZP_ADDR_LFT_07 STA (0),Y
		INY
ZP_ADDR_LFT_08 STA (0),Y
		INY
ZP_ADDR_LFT_09 STA (0),Y

		INY
ZP_ADDR_LFT_10 STA (0),Y
		INY
ZP_ADDR_LFT_11 STA (0),Y
		INY
ZP_ADDR_LFT_12 STA (0),Y
		INY
ZP_ADDR_LFT_13 STA (0),Y
		INY
ZP_ADDR_LFT_14 STA (0),Y
		INY
ZP_ADDR_LFT_15 STA (0),Y
		INY
ZP_ADDR_LFT_16 STA (0),Y
		INY
ZP_ADDR_LFT_17 STA (0),Y
		INY
ZP_ADDR_LFT_18 STA (0),Y
		INY
ZP_ADDR_LFT_19 STA (0),Y

		INY
ZP_ADDR_LFT_20 STA (0),Y
		INY
ZP_ADDR_LFT_21 STA (0),Y
		INY
ZP_ADDR_LFT_22 STA (0),Y
		INY
ZP_ADDR_LFT_23 STA (0),Y
		INY
ZP_ADDR_LFT_24 STA (0),Y
		INY
ZP_ADDR_LFT_25 STA (0),Y
		INY
ZP_ADDR_LFT_26 STA (0),Y
		INY
ZP_ADDR_LFT_27 STA (0),Y
		INY
ZP_ADDR_LFT_28 STA (0),Y
		INY
ZP_ADDR_LFT_29 STA (0),Y

		INY
ZP_ADDR_LFT_30 STA (0),Y
		INY
ZP_ADDR_LFT_31 STA (0),Y
		INY
ZP_ADDR_LFT_32 STA (0),Y
		INY
ZP_ADDR_LFT_33 STA (0),Y
		INY
ZP_ADDR_LFT_34 STA (0),Y
		INY
ZP_ADDR_LFT_35 STA (0),Y
		INY
ZP_ADDR_LFT_36 STA (0),Y
		INY
ZP_ADDR_LFT_37 STA (0),Y
		INY
ZP_ADDR_LFT_38 STA (0),Y
		INY
ZP_ADDR_LFT_39 STA (0),Y

		TXA
		LDY #2
ZP_ADDR_RGT_00 STA (0),Y
		INY
ZP_ADDR_RGT_01 STA (0),Y
		INY
ZP_ADDR_RGT_02 STA (0),Y
		INY
ZP_ADDR_RGT_03 STA (0),Y
		INY
ZP_ADDR_RGT_04 STA (0),Y
		INY
ZP_ADDR_RGT_05 STA (0),Y
		INY
ZP_ADDR_RGT_06 STA (0),Y
		INY
ZP_ADDR_RGT_07 STA (0),Y
		INY
ZP_ADDR_RGT_08 STA (0),Y
		INY
ZP_ADDR_RGT_09 STA (0),Y

		INY
ZP_ADDR_RGT_10 STA (0),Y
		INY
ZP_ADDR_RGT_11 STA (0),Y
		INY
ZP_ADDR_RGT_12 STA (0),Y
		INY
ZP_ADDR_RGT_13 STA (0),Y
		INY
ZP_ADDR_RGT_14 STA (0),Y
		INY
ZP_ADDR_RGT_15 STA (0),Y
		INY
ZP_ADDR_RGT_16 STA (0),Y
		INY
ZP_ADDR_RGT_17 STA (0),Y
		INY
ZP_ADDR_RGT_18 STA (0),Y
		INY
ZP_ADDR_RGT_19 STA (0),Y

		INY
ZP_ADDR_RGT_20 STA (0),Y
		INY
ZP_ADDR_RGT_21 STA (0),Y
		INY
ZP_ADDR_RGT_22 STA (0),Y
		INY
ZP_ADDR_RGT_23 STA (0),Y
		INY
ZP_ADDR_RGT_24 STA (0),Y
		INY
ZP_ADDR_RGT_25 STA (0),Y
		INY
ZP_ADDR_RGT_26 STA (0),Y
		INY
ZP_ADDR_RGT_27 STA (0),Y
		INY
ZP_ADDR_RGT_28 STA (0),Y
		INY
ZP_ADDR_RGT_29 STA (0),Y

		INY
ZP_ADDR_RGT_30 STA (0),Y
		INY
ZP_ADDR_RGT_31 STA (0),Y
		INY
ZP_ADDR_RGT_32 STA (0),Y
		INY
ZP_ADDR_RGT_33 STA (0),Y
		INY
ZP_ADDR_RGT_34 STA (0),Y
		INY
ZP_ADDR_RGT_35 STA (0),Y
		INY
ZP_ADDR_RGT_36 STA (0),Y
		INY
ZP_ADDR_RGT_37 STA (0),Y
		INY
ZP_ADDR_RGT_38 STA (0),Y
		INY
ZP_ADDR_RGT_39 STA (0),Y

		RTS
.ENDL


.LOCAL	MEMSET
			STY	LSB_ONLY+1 ; store LSB count
			CPX	#0          ; MSB?     
            BEQ	LSB_ONLY   ; no

            LDY	#0          ; yes so reset LSB
MSB_LOOP  
LSB_LOOP    		STA	(SCR0),Y   ; clear whole MSB
					DEY 
					BNE	LSB_LOOP

				INC	SCR0+1      ; inc MSB
				DEX               ; dec MSB count
				BNE	MSB_LOOP

LSB_ONLY    LDY	#0          ; LSB count 
            BEQ	MS_END     ; not needed

LAST_LSB_LOOP 	STA	(SCR0),Y
				DEY 
				BNE	LAST_LSB_LOOP
                
            STA	(SCR0),Y     ; clear last Y (0)
MS_END      RTS
.ENDL

.LOCAL	DLI
		STA DLI_RGA +1
		STX DLI_RGX +1
		STY DLI_RGY +1

		LDA CONSOL

;DLI_ST	INC VBL.C0 +1	; my code

;		LDA VBL.C0+1
;		STA COLBK

DLI_RGA	LDA #0
DLI_RGX	LDX #0
DLI_RGY	LDY #0
		RTI
.ENDL

.local	NMI

		BIT NMIST
		BPL VBL

DLI_ADR	JMP DLI				; dli start address
.ENDL

.LOCAL	VBL
		STA VBI_RGA +1
		STX VBI_RGX +1
		STY VBI_RGY +1

		STA NMIST			; reset NMI flag

		MWA #DISPLAY_LIST DLISTL	; ANTIC address program

		MVA #@DMACTL(STANDARD | DMA | LINEX1 | PLAYERS | MISSILES) DMACTL	; set new screen width

;		LDA >CHR_SET+$400*$00	; Initial values
;		STA CHBASE
C0		LDA #$00
		STA COLBK
C1		LDA #$04
		STA COLOR0
C2		LDA #$06
		STA COLOR1
C3		LDA #$08
		STA COLOR2
C4		LDA #$0E
		STA COLOR3
		LDA #$02
		STA CHACTL
		LDA #$04
		STA PRIOR
		LDA #$00
		STA HPOSP0
		STA HPOSP1
		STA HPOSP2
		STA HPOSP3
		STA HPOSM0
		STA HPOSM1
		STA HPOSM2
		STA HPOSM3
		STA SIZEP0
		STA SIZEP1
		STA SIZEP2
		STA SIZEP3
		STA SIZEM
		STA COLPM0
		STA COLPM1
		STA COLPM2
		STA COLPM3

;		INC	C0 +1
;		INC C1 +1	; my code
;		INC C2 +1	; my code
;		INC C3 +1	; my code

VBI_RGA	LDA #0
VBI_RGX	LDX #0
VBI_RGY	LDY #0
		RTI
.ENDL

MAP_SCL_LFT_MSB .BYTE >MAP_LFT,>MAP_RGT,>MAP_RGT,>MAP_LFT
MAP_SCL_RGT_MSB .BYTE >MAP_RGT,>MAP_LFT,>MAP_LFT,>MAP_RGT
MAP_SCL_LFT_VAL .BYTE %11000000,%00110000,%11000000,%00110000
MAP_SCL_RGT_VAL .BYTE %00001100,%00000011,%00001100,%00000011
MAP_SCL_LFT_ADD .BYTE 0,0,0,1 ; 0,1,1,1
MAP_SCL_RGT_ADD .BYTE 0,1,1,1 ; 0,0,0,1

	.ALIGN $100
MAP_LFT:
.REPT 5
	.BYTE SCN_ZP_01, SCN_ZP_03, SCN_ZP_05, SCN_ZP_07, SCN_ZP_09, SCN_ZP_11, SCN_ZP_13, SCN_ZP_15, SCN_ZP_17, SCN_ZP_19, SCN_ZP_21, SCN_ZP_23, SCN_ZP_25, SCN_ZP_27, SCN_ZP_29, SCN_ZP_27
	.BYTE SCN_ZP_29, SCN_ZP_27, SCN_ZP_25, SCN_ZP_23, SCN_ZP_21, SCN_ZP_19, SCN_ZP_17, SCN_ZP_15, SCN_ZP_13, SCN_ZP_11, SCN_ZP_09, SCN_ZP_07, SCN_ZP_05, SCN_ZP_03, SCN_ZP_01, SCN_ZP_03
	.BYTE SCN_ZP_05, SCN_ZP_07, SCN_ZP_05, SCN_ZP_07, SCN_ZP_09, SCN_ZP_11, SCN_ZP_13, SCN_ZP_15, SCN_ZP_17, SCN_ZP_19, SCN_ZP_21, SCN_ZP_23, SCN_ZP_25, SCN_ZP_27, SCN_ZP_29, SCN_ZP_27
	.BYTE SCN_ZP_29, SCN_ZP_31, SCN_ZP_29, SCN_ZP_27, SCN_ZP_25, SCN_ZP_23, SCN_ZP_17, SCN_ZP_15, SCN_ZP_13, SCN_ZP_11, SCN_ZP_09, SCN_ZP_07, SCN_ZP_05, SCN_ZP_03, SCN_ZP_01, SCN_ZP_03
.ENDR

	.ALIGN $100
MAP_RGT:
.REPT 5
	.BYTE SCN_ZP_02, SCN_ZP_04, SCN_ZP_06, SCN_ZP_08, SCN_ZP_10, SCN_ZP_12, SCN_ZP_14, SCN_ZP_16, SCN_ZP_18, SCN_ZP_20, SCN_ZP_22, SCN_ZP_24, SCN_ZP_26, SCN_ZP_28, SCN_ZP_30, SCN_ZP_32
	.BYTE SCN_ZP_30, SCN_ZP_28, SCN_ZP_26, SCN_ZP_24, SCN_ZP_22, SCN_ZP_20, SCN_ZP_18, SCN_ZP_16, SCN_ZP_14, SCN_ZP_12, SCN_ZP_10, SCN_ZP_08, SCN_ZP_06, SCN_ZP_04, SCN_ZP_02, SCN_ZP_04
	.BYTE SCN_ZP_02, SCN_ZP_04, SCN_ZP_06, SCN_ZP_08, SCN_ZP_10, SCN_ZP_12, SCN_ZP_14, SCN_ZP_16, SCN_ZP_18, SCN_ZP_20, SCN_ZP_22, SCN_ZP_24, SCN_ZP_26, SCN_ZP_28, SCN_ZP_30, SCN_ZP_32
	.BYTE SCN_ZP_30, SCN_ZP_28, SCN_ZP_26, SCN_ZP_24, SCN_ZP_22, SCN_ZP_20, SCN_ZP_18, SCN_ZP_16, SCN_ZP_14, SCN_ZP_12, SCN_ZP_10, SCN_ZP_08, SCN_ZP_06, SCN_ZP_04, SCN_ZP_02, SCN_ZP_04
.ENDR


.MACRO	DLI_LINE DLI_ADDR, SCREEN_MODE
    .BYTE SCREEN_ADR+:2,<(:1+2),>(:1+2)
.ENDM 

	.ALIGN $400
DISPLAY_LIST		
	.BYTE BLANK_LINE,BLANK_LINE,BLANK_LINE	; Discard 24 scan lines
;DLI_SCN_T_ADDR
	DLI_LINE WHT_LINE_ADR-2 SM
	DLI_LINE BLK_LINE_ADR-2 SM
	DLI_LINE TXT_SCR_ADR-2 SM_HR
.REPT	5-1
	.BYTE SM_HR
.ENDR
	DLI_LINE BLK_LINE_ADR-2 SM
	DLI_LINE WHT_LINE_ADR-2 SM

	DLI_LINE MAP_SCR_ADR-2 SM
.REPT	20-1
	.BYTE SM
.ENDR
	DLI_LINE WHT_LINE_ADR-2 SM

;	.BYTE DLI_INT+SM
	
	DLI_LINE SCN0_LINE000 SM
	DLI_LINE SCN0_LINE001 SM
	DLI_LINE SCN0_LINE002 SM
	DLI_LINE SCN0_LINE003 SM
	DLI_LINE SCN0_LINE004 SM
	DLI_LINE SCN0_LINE005 SM
	DLI_LINE SCN0_LINE006 SM
	DLI_LINE SCN0_LINE007 SM
	DLI_LINE SCN0_LINE008 SM
	DLI_LINE SCN0_LINE009 SM

	DLI_LINE SCN0_LINE010 SM
	DLI_LINE SCN0_LINE011 SM
	DLI_LINE SCN0_LINE012 SM
	DLI_LINE SCN0_LINE013 SM
	DLI_LINE SCN0_LINE014 SM
	DLI_LINE SCN0_LINE015 SM
	DLI_LINE SCN0_LINE016 SM
	DLI_LINE SCN0_LINE017 SM
	DLI_LINE SCN0_LINE018 SM
	DLI_LINE SCN0_LINE019 SM

	DLI_LINE SCN0_LINE020 SM
	DLI_LINE SCN0_LINE021 SM
	DLI_LINE SCN0_LINE022 SM
	DLI_LINE SCN0_LINE023 SM
	DLI_LINE SCN0_LINE024 SM
	DLI_LINE SCN0_LINE025 SM
	DLI_LINE SCN0_LINE026 SM
	DLI_LINE SCN0_LINE027 SM
	DLI_LINE SCN0_LINE028 SM
	DLI_LINE SCN0_LINE029 SM

	DLI_LINE SCN0_LINE030 SM
	DLI_LINE SCN0_LINE031 SM
	DLI_LINE SCN0_LINE032 SM
	DLI_LINE SCN0_LINE033 SM
	DLI_LINE SCN0_LINE034 SM
	DLI_LINE SCN0_LINE035 SM
	DLI_LINE SCN0_LINE036 SM
	DLI_LINE SCN0_LINE037 SM
	DLI_LINE SCN0_LINE038 SM
	DLI_LINE SCN0_LINE039 SM

	DLI_LINE SCN0_LINE040 SM
	DLI_LINE SCN0_LINE041 SM
	DLI_LINE SCN0_LINE042 SM
	DLI_LINE SCN0_LINE043 SM
	DLI_LINE SCN0_LINE044 SM
	DLI_LINE SCN0_LINE045 SM
	DLI_LINE SCN0_LINE046 SM
	DLI_LINE SCN0_LINE047 SM
	DLI_LINE SCN0_LINE048 SM
	DLI_LINE SCN0_LINE049 SM

	DLI_LINE SCN0_LINE050 SM
	DLI_LINE SCN0_LINE051 SM
	DLI_LINE SCN0_LINE052 SM
	DLI_LINE SCN0_LINE053 SM
	DLI_LINE SCN0_LINE054 SM
	DLI_LINE SCN0_LINE055 SM
	DLI_LINE SCN0_LINE056 SM
	DLI_LINE SCN0_LINE057 SM
	DLI_LINE SCN0_LINE058 SM
	DLI_LINE SCN0_LINE059 SM

	DLI_LINE SCN0_LINE060 SM
	DLI_LINE SCN0_LINE061 SM
	DLI_LINE SCN0_LINE062 SM
	DLI_LINE SCN0_LINE063 SM
	DLI_LINE SCN0_LINE064 SM
	DLI_LINE SCN0_LINE065 SM
	DLI_LINE SCN0_LINE066 SM
	DLI_LINE SCN0_LINE067 SM
	DLI_LINE SCN0_LINE068 SM
	DLI_LINE SCN0_LINE069 SM

	DLI_LINE SCN0_LINE070 SM
	DLI_LINE SCN0_LINE071 SM
	DLI_LINE SCN0_LINE072 SM
	DLI_LINE SCN0_LINE073 SM
	DLI_LINE SCN0_LINE074 SM
	DLI_LINE SCN0_LINE075 SM
	DLI_LINE SCN0_LINE076 SM
	DLI_LINE SCN0_LINE077 SM
	DLI_LINE SCN0_LINE078 SM
	DLI_LINE SCN0_LINE079 SM

	DLI_LINE SCN0_LINE080 SM
	DLI_LINE SCN0_LINE081 SM
	DLI_LINE SCN0_LINE082 SM
	DLI_LINE SCN0_LINE083 SM
	DLI_LINE SCN0_LINE084 SM
	DLI_LINE SCN0_LINE085 SM
	DLI_LINE SCN0_LINE086 SM
	DLI_LINE SCN0_LINE087 SM
	DLI_LINE SCN0_LINE088 SM
	DLI_LINE SCN0_LINE089 SM

	DLI_LINE SCN0_LINE090 SM
	DLI_LINE SCN0_LINE091 SM
	DLI_LINE SCN0_LINE092 SM
	DLI_LINE SCN0_LINE093 SM
	DLI_LINE SCN0_LINE094 SM
	DLI_LINE SCN0_LINE095 SM
	DLI_LINE SCN0_LINE096 SM
	DLI_LINE SCN0_LINE097 SM
	DLI_LINE SCN0_LINE098 SM
	DLI_LINE SCN0_LINE099 SM

	DLI_LINE SCN0_LINE100 SM
	DLI_LINE SCN0_LINE101 SM
	DLI_LINE SCN0_LINE102 SM
	DLI_LINE SCN0_LINE103 SM
	DLI_LINE SCN0_LINE104 SM
	DLI_LINE SCN0_LINE105 SM
	DLI_LINE SCN0_LINE106 SM
	DLI_LINE SCN0_LINE107 SM
	DLI_LINE SCN0_LINE108 SM
	DLI_LINE SCN0_LINE109 SM
	
	DLI_LINE SCN0_LINE110 SM
	DLI_LINE SCN0_LINE111 SM
	DLI_LINE SCN0_LINE112 SM
	DLI_LINE SCN0_LINE113 SM
	DLI_LINE SCN0_LINE114 SM
	DLI_LINE SCN0_LINE115 SM
	DLI_LINE SCN0_LINE116 SM
	DLI_LINE SCN0_LINE117 SM
	DLI_LINE SCN0_LINE118 SM
	DLI_LINE SCN0_LINE119 SM

	DLI_LINE SCN0_LINE120 SM
	DLI_LINE SCN0_LINE121 SM
	DLI_LINE SCN0_LINE122 SM
	DLI_LINE SCN0_LINE123 SM
	DLI_LINE SCN0_LINE124 SM
	DLI_LINE SCN0_LINE125 SM
	DLI_LINE SCN0_LINE126 SM
	DLI_LINE SCN0_LINE127 SM
	DLI_LINE SCN0_LINE128 SM
	DLI_LINE SCN0_LINE129 SM

	DLI_LINE SCN0_LINE130 SM
	DLI_LINE SCN0_LINE131 SM
	DLI_LINE SCN0_LINE132 SM
	DLI_LINE SCN0_LINE133 SM
	DLI_LINE SCN0_LINE134 SM
	DLI_LINE SCN0_LINE135 SM
	DLI_LINE SCN0_LINE136 SM
	DLI_LINE SCN0_LINE137 SM
	DLI_LINE SCN0_LINE138 SM
	DLI_LINE SCN0_LINE139 SM

	DLI_LINE SCN0_LINE140 SM
	DLI_LINE SCN0_LINE141 SM
	DLI_LINE SCN0_LINE142 SM
	DLI_LINE SCN0_LINE143 SM
	DLI_LINE SCN0_LINE144 SM
	DLI_LINE SCN0_LINE145 SM
	DLI_LINE SCN0_LINE146 SM
	DLI_LINE SCN0_LINE147 SM
	DLI_LINE SCN0_LINE148 SM
	DLI_LINE SCN0_LINE149 SM

	DLI_LINE SCN0_LINE150 SM
	DLI_LINE SCN0_LINE151 SM
	DLI_LINE SCN0_LINE152 SM
	DLI_LINE SCN0_LINE153 SM
	DLI_LINE SCN0_LINE154 SM
	DLI_LINE SCN0_LINE155 SM
	DLI_LINE SCN0_LINE156 SM
	DLI_LINE SCN0_LINE157 SM
	DLI_LINE SCN0_LINE158 SM
	DLI_LINE SCN0_LINE159 SM

	.BYTE DLI_INT+SM
	DLI_LINE WHT_LINE_ADR-2 SM
	.BYTE DISP_LIST,<DISPLAY_LIST,>DISPLAY_LIST

.ALIGN $1000
SCN0_T ; screen	

SCN0_LINE000 = SCN0_T 					;+(42*000)
SCN0_LINE001 = SCN0_LINE000 +(42)
SCN0_LINE002 = SCN0_LINE001 +(42)
SCN0_LINE003 = SCN0_LINE002 +(42)
SCN0_LINE004 = SCN0_LINE003 +(42)
SCN0_LINE005 = SCN0_LINE004 +(42)

SCN0_LINE006 = SCN0_LINE000 +256
SCN0_LINE007 = SCN0_LINE006 +(42)
SCN0_LINE008 = SCN0_LINE007 +(42)
SCN0_LINE009 = SCN0_LINE008 +(42)
SCN0_LINE010 = SCN0_LINE009 +(42)
SCN0_LINE011 = SCN0_LINE010 +(42)

SCN0_LINE012 = SCN0_LINE006 +256
SCN0_LINE013 = SCN0_LINE012 +(42*001)
SCN0_LINE014 = SCN0_LINE012 +(42*002)
SCN0_LINE015 = SCN0_LINE012 +(42*003)
SCN0_LINE016 = SCN0_LINE012 +(42*004)
SCN0_LINE017 = SCN0_LINE012 +(42*005)

SCN0_LINE018 = SCN0_LINE012 +256
SCN0_LINE019 = SCN0_LINE018 +(42*001)
SCN0_LINE020 = SCN0_LINE018 +(42*002)
SCN0_LINE021 = SCN0_LINE018 +(42*003)
SCN0_LINE022 = SCN0_LINE018 +(42*004)
SCN0_LINE023 = SCN0_LINE018 +(42*005)

SCN0_LINE024 = SCN0_LINE018 +256
SCN0_LINE025 = SCN0_LINE024 +(42*001)
SCN0_LINE026 = SCN0_LINE024 +(42*002)
SCN0_LINE027 = SCN0_LINE024 +(42*003)
SCN0_LINE028 = SCN0_LINE024 +(42*004)
SCN0_LINE029 = SCN0_LINE024 +(42*005)

SCN0_LINE030 = SCN0_LINE024 +256
SCN0_LINE031 = SCN0_LINE030 +(42*001)
SCN0_LINE032 = SCN0_LINE030 +(42*002)
SCN0_LINE033 = SCN0_LINE030 +(42*003)
SCN0_LINE034 = SCN0_LINE030 +(42*004)
SCN0_LINE035 = SCN0_LINE030 +(42*005)

SCN0_LINE036 = SCN0_LINE030 +256
SCN0_LINE037 = SCN0_LINE036 +(42*001)
SCN0_LINE038 = SCN0_LINE036 +(42*002)
SCN0_LINE039 = SCN0_LINE036 +(42*003)
SCN0_LINE040 = SCN0_LINE036 +(42*004)
SCN0_LINE041 = SCN0_LINE036 +(42*005)

SCN0_LINE042 = SCN0_LINE036 +256
SCN0_LINE043 = SCN0_LINE042 +(42*001)
SCN0_LINE044 = SCN0_LINE042 +(42*002)
SCN0_LINE045 = SCN0_LINE042 +(42*003)
SCN0_LINE046 = SCN0_LINE042 +(42*004)
SCN0_LINE047 = SCN0_LINE042 +(42*005)

SCN0_LINE048 = SCN0_LINE042 +256
SCN0_LINE049 = SCN0_LINE048 +(42*001)
SCN0_LINE050 = SCN0_LINE048 +(42*002)
SCN0_LINE051 = SCN0_LINE048 +(42*003)
SCN0_LINE052 = SCN0_LINE048 +(42*004)
SCN0_LINE053 = SCN0_LINE048 +(42*005)

SCN0_LINE054 = SCN0_LINE048 +256
SCN0_LINE055 = SCN0_LINE054 +(42*001)
SCN0_LINE056 = SCN0_LINE054 +(42*002)
SCN0_LINE057 = SCN0_LINE054 +(42*003)
SCN0_LINE058 = SCN0_LINE054 +(42*004)
SCN0_LINE059 = SCN0_LINE054 +(42*005)

SCN0_LINE060 = SCN0_LINE054 +256
SCN0_LINE061 = SCN0_LINE060 +(42*001)
SCN0_LINE062 = SCN0_LINE060 +(42*002)
SCN0_LINE063 = SCN0_LINE060 +(42*003)
SCN0_LINE064 = SCN0_LINE060 +(42*004)
SCN0_LINE065 = SCN0_LINE060 +(42*005)

SCN0_LINE066 = SCN0_LINE060 +256
SCN0_LINE067 = SCN0_LINE066 +(42*001)
SCN0_LINE068 = SCN0_LINE066 +(42*002)
SCN0_LINE069 = SCN0_LINE066 +(42*003)
SCN0_LINE070 = SCN0_LINE066 +(42*004)
SCN0_LINE071 = SCN0_LINE066 +(42*005)

SCN0_LINE072 = SCN0_LINE066 +256
SCN0_LINE073 = SCN0_LINE072 +(42*001)
SCN0_LINE074 = SCN0_LINE072 +(42*002)
SCN0_LINE075 = SCN0_LINE072 +(42*003)
SCN0_LINE076 = SCN0_LINE072 +(42*004)
SCN0_LINE077 = SCN0_LINE072 +(42*005)

SCN0_LINE078 = SCN0_LINE072 +256
SCN0_LINE079 = SCN0_LINE078 +(42*001)
SCN0_LINE080 = SCN0_LINE078 +(42*002)
SCN0_LINE081 = SCN0_LINE078 +(42*003) 
SCN0_LINE082 = SCN0_LINE078 +(42*004)
SCN0_LINE083 = SCN0_LINE078 +(42*005)

SCN0_LINE084 = SCN0_LINE078 +256
SCN0_LINE085 = SCN0_LINE084 +(42*001)
SCN0_LINE086 = SCN0_LINE084 +(42*002)
SCN0_LINE087 = SCN0_LINE084 +(42*003)
SCN0_LINE088 = SCN0_LINE084 +(42*004)
SCN0_LINE089 = SCN0_LINE084 +(42*005)

SCN0_LINE090 = SCN0_LINE084 +256
SCN0_LINE091 = SCN0_LINE090 +(42*001)
SCN0_LINE092 = SCN0_LINE090 +(42*002)
SCN0_LINE093 = SCN0_LINE090 +(42*003)
SCN0_LINE094 = SCN0_LINE090 +(42*004)
SCN0_LINE095 = SCN0_LINE090 +(42*005)

SCN0_LINE096 = SCN0_LINE090 +256
SCN0_LINE097 = SCN0_LINE096 +(42*001)
SCN0_LINE098 = SCN0_LINE096 +(42*002)
SCN0_LINE099 = SCN0_LINE096 +(42*003)
SCN0_LINE100 = SCN0_LINE096 +(42*004)
SCN0_LINE101 = SCN0_LINE096 +(42*005)

SCN0_LINE102 = SCN0_LINE096 +256
SCN0_LINE103 = SCN0_LINE102 +(42*001)
SCN0_LINE104 = SCN0_LINE102 +(42*002)
SCN0_LINE105 = SCN0_LINE102 +(42*003)
SCN0_LINE106 = SCN0_LINE102 +(42*004)
SCN0_LINE107 = SCN0_LINE102 +(42*005)

SCN0_LINE108 = SCN0_LINE102 +256
SCN0_LINE109 = SCN0_LINE108 +(42*001)
SCN0_LINE110 = SCN0_LINE108 +(42*002)
SCN0_LINE111 = SCN0_LINE108 +(42*003)
SCN0_LINE112 = SCN0_LINE108 +(42*004)
SCN0_LINE113 = SCN0_LINE108 +(42*005)

SCN0_LINE114 = SCN0_LINE108 +256
SCN0_LINE115 = SCN0_LINE114 +(42*001)
SCN0_LINE116 = SCN0_LINE114 +(42*002)
SCN0_LINE117 = SCN0_LINE114 +(42*003)
SCN0_LINE118 = SCN0_LINE114 +(42*004)
SCN0_LINE119 = SCN0_LINE114 +(42*005)

SCN0_LINE120 = SCN0_LINE114 +256
SCN0_LINE121 = SCN0_LINE120 +(42*001)
SCN0_LINE122 = SCN0_LINE120 +(42*002)
SCN0_LINE123 = SCN0_LINE120 +(42*003)
SCN0_LINE124 = SCN0_LINE120 +(42*004)
SCN0_LINE125 = SCN0_LINE120 +(42*005)

SCN0_LINE126 = SCN0_LINE120 +256
SCN0_LINE127 = SCN0_LINE126 +(42*001)
SCN0_LINE128 = SCN0_LINE126 +(42*002)
SCN0_LINE129 = SCN0_LINE126 +(42*003)
SCN0_LINE130 = SCN0_LINE126 +(42*004)
SCN0_LINE131 = SCN0_LINE126 +(42*005)

SCN0_LINE132 = SCN0_LINE126 +256
SCN0_LINE133 = SCN0_LINE132 +(42*001)
SCN0_LINE134 = SCN0_LINE132 +(42*002)
SCN0_LINE135 = SCN0_LINE132 +(42*003)
SCN0_LINE136 = SCN0_LINE132 +(42*004)
SCN0_LINE137 = SCN0_LINE132 +(42*005)

SCN0_LINE138 = SCN0_LINE132 +256
SCN0_LINE139 = SCN0_LINE138 +(42*001)
SCN0_LINE140 = SCN0_LINE138 +(42*002)
SCN0_LINE141 = SCN0_LINE138 +(42*003)
SCN0_LINE142 = SCN0_LINE138 +(42*004)
SCN0_LINE143 = SCN0_LINE138 +(42*005)

SCN0_LINE144 = SCN0_LINE138 +256
SCN0_LINE145 = SCN0_LINE144 +(42*001)
SCN0_LINE146 = SCN0_LINE144 +(42*002)
SCN0_LINE147 = SCN0_LINE144 +(42*003)
SCN0_LINE148 = SCN0_LINE144 +(42*004)
SCN0_LINE149 = SCN0_LINE144 +(42*005)

SCN0_LINE150 = SCN0_LINE144 +256
SCN0_LINE151 = SCN0_LINE150 +(42*001)
SCN0_LINE152 = SCN0_LINE150 +(42*002)
SCN0_LINE153 = SCN0_LINE150 +(42*003)
SCN0_LINE154 = SCN0_LINE150 +(42*004)
SCN0_LINE155 = SCN0_LINE150 +(42*005)

SCN0_LINE156 = SCN0_LINE150 +256
SCN0_LINE157 = SCN0_LINE156 +(42*001)
SCN0_LINE158 = SCN0_LINE156 +(42*002)
SCN0_LINE159 = SCN0_LINE156 +(42*003)

WHT_LINE_ADR = SCN0_LINE156 +(42*004)
GRY_LINE_ADR = SCN0_LINE156 +(42*005)

TXT_SCR_ADR = SCN0_LINE156 +256
BLK_LINE_ADR = TXT_SCR_ADR +(5*40)

MAP_SCR_ADR = TXT_SCR_ADR +256


