
	SCR_WID	EQU 42
	SW		EQU SCR_WID

	SCREEN_MODE	EQU	$0E
	SM			EQU	SCREEN_MODE
	BLANK_LINE	EQU $70
	SCREEN_ADR	EQU	$40
	DISP_LIST	EQU	$41
	DLI_INT		EQU	$80

	SCR0 	EQU	128
	SCR1 	EQU	SCR0 +2
	SCR2 	EQU	SCR1 +2
	SCR3 	EQU	SCR2 +2
	SCR4 	EQU	SCR3 +2
	SCR5 	EQU	SCR4 +2
	SCR6 	EQU	SCR5 +2
	SCR7 	EQU	SCR6 +2

	REGA EQU SCR7 +2
	REGX EQU REGA +1
	REGY EQU REGX +1

	SCR0_OBJ_CNT EQU REGY +1
	SCR1_OBJ_CNT EQU SCR0_OBJ_CNT +1
	OBJECT_TYPE	 EQU SCR1_OBJ_CNT +1
	
	TV	EQU	OBJECT_TYPE +1
	TH	EQU	TV +1
	FIRE EQU TH +1
	
	SPR_AND EQU FIRE +1
	SPR_ORA EQU SPR_AND +2

 ICL 'hardware.s'

.MACRO	BORDER	COL
			LDA #:1
			STA COLBK
.ENDM 

	ORG $800
				
INIT	SEI
		CLD
		CLV
		LDX	#$FF
		TXS

		LDA PORTB ; disable basic
		ORA #$02
		STA PORTB
			 	
		LDA #$00 ; disable antic
	    STA SDMCTL
	    STA DMACTL

		LDA #$B6 	; set colours
;		STA	COLPF0 
		STA COLOR0
		LDA #$32
;		STA	COLPF1 
		STA COLOR1
		LDA #$0E
;		STA COLPF2 
		STA COLOR2
		LDA #$00
		STA COLOR4; background / border

		LDX #<DISPLAY_LIST	; Extract low BYTE from DISPLAY_LIST and store it in SDLSTL
		LDY #>DISPLAY_LIST
		STX SDLSTL
		STY SDLSTL+1		; Therefore tell antic the starting address of the custom display list.

        LDX #<DLI	; load display list interrupt address
        LDY #>DLI
		STX VDSLST
        STY VDSLST+1

		ldx #<IRQ
        ldy #>IRQ
        stx VIMIRQ
        sty VIMIRQ+1

;        ldx #<VBLANK
;        ldy #>VBLANK
;        stx VVBLKI
;        sty VVBLKI+1
 
		LDA #$22 			; narrow 23 wide ; #$22       		;
		STA SDMCTL     		; Store literal $23 in SDMCTL - therefore switch ANTIC back on to narrow.
		
		LDA #50
		STA TH
		STA	TV
;		LDA	#22
;		STA	SCR0_OBJ_CNT
;		STA	SCR1_OBJ_CNT
		
		LDA #%0 ;10101010
		LDX #<SCN0_T ; SCN
		LDY #>SCN0_T ; SCN
		STX SCR0+0
		STY SCR0+1
		LDX #>(128*SW)
		LDY #<(128*SW)
		JSR	MEMSET
		
		LDA #%0 ;1011010
		LDX #<SCN0_B ; SCN
		LDY #>SCN0_B ; SCN
		STX SCR0+0
		STY SCR0+1
		LDX #>(64*SW)
		LDY #<(64*SW)
		JSR	MEMSET

		LDA #%0 ;0000000
		LDX #<SCN1_T ; SCN
		LDY #>SCN1_T ; SCN
		STX SCR0+0
		STY SCR0+1
		LDX #>(128*SW)
		LDY #<(128*SW)
		JSR	MEMSET
		
		LDA #%0 ;0001111
		LDX #<SCN1_B ; SCN
		LDY #>SCN1_B ; SCN
		STX SCR0+0
		STY SCR0+1
		LDX #>(64*SW)
		LDY #<(64*SW)
		JSR	MEMSET

		LDA #%11111111 ;0001111
		LDX #<WHT_LINE_ADR
		LDY #>WHT_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		LDA #%01010101
		LDX #<GRY_LINE_ADR
		LDY #>GRY_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		LDA #%10101010
		LDX #<BLK_LINE_ADR
		LDY #>BLK_LINE_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>40
		LDY #<40
		JSR	MEMSET

		LDA #%01010101
		LDX #<TXT_SCR_ADR
		LDY #>TXT_SCR_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>(5*40)
		LDY #<(5*40)
		JSR	MEMSET

		LDA #%10101010
		LDX #<MAP_SCR_ADR
		LDY #>MAP_SCR_ADR
		STX SCR0+0
		STY SCR0+1
		LDX #>(20*40)
		LDY #<(20*40)
		JSR	MEMSET

        LDA #(NMIEN_VBI | NMIEN_DLI)	; activate display list interrupt
        STA NMIEN

		CLI
		
MLOOP
	JSR	MOVE_HV
		JMP	MLOOP

.LOCAL	VBLANK ; notify main loop that VBLANK processing is done, when we are finished.
		pha
			BORDER $1C
;                lda     #$FF
;                sta     VBL_DONE
			BORDER 0
 
		pla
        rti
.ENDL

.LOCAL	IRQ
		pha
			BORDER $3A
                lda     #0
                sta     IRQEN
                lda     #$40
                sta     IRQEN
                lda     KBCODE
                ora     #$C0
 ;               sta     MY_KEY
			BORDER 0
                pla
                rti
.ENDL

TMP_CNT	.BYTE	23
TMPH	.BYTE 	0,1,117,117,3,15,22,25,33,35,43,45,53,57,63,67,73,73,81,83,91,93,103,107,113,115,121,111
TMPV	.BYTE 	0,181,3,179,3,17,21,27,31,35,41,45,51,55,61,65,71,75,81,85,91,95,101,105,111,115,121,113
;TMPH	.BYTE 	0,0,116,116,2,16,20,26,32,36,42,46,52,56,62,66,72,76,82,86,92,96,102,106,112,116,122,110
;TMPV	.BYTE 	0,180,2,178,2,16,22,26,32,36,42,46,52,56,62,66,72,76,82,86,92,96,102,106,112,116,122,112
TMPT	.BYTE	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
TMPMH	.BYTE	0,-1,+1,+1,-1,+1,+1,-1,-1,+1,+1,-1,-1,+1,+1,-1,-1,+1,+1,-1,-1,+1,+1,-1,-1,+1,+1,-1,-1,+1
TMPMV	.BYTE	0,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1,+1,-1

.LOCAL	CLEAR_SPRITES ; y moves to x and a moves to y
CLEAR_CNT	LDX #0
LOOP			STX	NEXT +1
CLEAR_H			LDA SCR0_OBJ_H,X ;   ,y
				STA REGX
CLEAR_V			LDA SCR0_OBJ_V,X ;   ,y
CLEAR_T			LDY SCR0_OBJ_T,X ; x ,y
				JSR CLEAR_SPRITE
NEXT			LDX #0
				DEX
				BPL	LOOP
			RTS
.ENDL

.LOCAL	DRAW_SPRITES
DRAW_CNT	LDX #0
LOOP			STX NEXT +1
DRAW_V			LDA SCR1_OBJ_V,X
				STA REGY
DRAW_H			LDA SCR1_OBJ_H,X
				STA REGX
DRAW_T			LDY SCR1_OBJ_T,X
				JSR DRAW_SPRITE
NEXT			LDX #0
				DEX
				BPL	LOOP
			RTS
.ENDL

.LOCAL	MOVE_SPRITES
MOVE_CNT	LDX TMP_CNT
			STX	DRAW_SPRITES.DRAW_CNT +1
			STX CLEAR_SPRITES.CLEAR_CNT +1
LOOP			LDA TMPV,X
MOVE_V			STA SCR0_OBJ_V,X
				LDA TMPH,X
MOVE_H			STA SCR0_OBJ_H,X
				LDA TMPT,X
MOVE_T			STA SCR0_OBJ_T,X
				DEX
				BPL	LOOP
			RTS
.ENDL

.LOCAL	SWAP_SCREEN
			LDA #>SCN0_T			; has screen0 just been displayed
;			CMP DLI_SCN_T_ADDR +2
;			BEQ SCN0_SCN1			; yes

SCN1_SCN0	LDA	#>SCN0_T			; no - so now show screen0
;			STA	DLI_SCN_T_ADDR +2
			LDA	#>SCN0_B
;			STA	DLI_SCN_B_ADDR +2
;			LDA	#>SC1_HI			; and clear and draw on screen1
;			STA	CLEAR_01.SCPTC1 +2
;			STA	CLEAR_08.SCPTC8 +2
;			STA	DRAW_01.SCPTD1 +2
;			STA	DRAW_08.SCPTD8 +2

;			LDX	#<SCR0_OBJ_H
;			LDY	#<SCR0_OBJ_V
;			LDA #<SCR0_OBJ_T
;			STX CLEAR_SPRITES.CLEAR_H +1
;			STY CLEAR_SPRITES.CLEAR_V +1
;			STA CLEAR_SPRITES.CLEAR_T +1
;			STX DRAW_SPRITES.DRAW_H +1
;			STY DRAW_SPRITES.DRAW_V +1
;			STA DRAW_SPRITES.DRAW_T +1
;			STX MOVE_SPRITES.MOVE_H +1
;			STY MOVE_SPRITES.MOVE_V +1
;			STA MOVE_SPRITES.MOVE_T +1
			RTS

SCN0_SCN1	LDA	#>SCN1_T			; so now show screen1 
;			STA	DLI_SCN_T_ADDR +2
			LDA	#>SCN1_B
;			STA	DLI_SCN_B_ADDR +2
			LDA	#>SC0_HI			; and clear and draw on screen0
;			STA	CLEAR_01.SCPTC1 +2
;			STA	CLEAR_08.SCPTC8 +2
;			STA	DRAW_01.SCPTD1 +2
;			STA	DRAW_08.SCPTD8 +2

;			LDX	#<SCR1_OBJ_H
;			LDY	#<SCR1_OBJ_V
;			LDA #<SCR1_OBJ_T
;			STX CLEAR_SPRITES.CLEAR_H +1
;			STY CLEAR_SPRITES.CLEAR_V +1
;			STA CLEAR_SPRITES.CLEAR_T +1
;			STX DRAW_SPRITES.DRAW_H +1
;			STY DRAW_SPRITES.DRAW_V +1
;			STA DRAW_SPRITES.DRAW_T +1
;			STX MOVE_SPRITES.MOVE_H +1
;			STY MOVE_SPRITES.MOVE_V +1
;			STA MOVE_SPRITES.MOVE_T +1
			RTS
.ENDL	

.LOCAL	DLI
			PHP
			STA INTREGA +1
			STX INTREGX +1
			STY INTREGY +1

			BORDER $28			
			JSR	SWAP_SCREEN ; also swap this and previous list
				
; 			BORDER $7A
;			JSR	CLEAR_SPRITES ; clear previous list

;			BORDER $20
			JSR	JOYSTICK

;			JSR	MOVE_SPRITES ; move objects to this draw list
		ldx TH
		ldy TV
		lda	#0
		stx TMPH
		sty TMPV
		sta TMPT
		
;		BORDER $44

			JSR	DRAW_SPRITES ; draw this list 

			BORDER 0

INTREGA	LDA #0
INTREGX	LDX #0
INTREGY	LDY #0
			PLP
		RTI
.ENDL

.LOCAL	DRAW_SPRITE
			LDX SPRITE_AND_LO_LO,Y
			STX SCR0
			LDX SPRITE_AND_LO_HI,Y
			STX SCR0 +1
			LDX SPRITE_AND_HI_LO,Y
			STX SCR1
			LDX SPRITE_AND_HI_HI,Y
			STX SCR1 +1
  
			LDX SPRITE_ORA_LO_LO,Y
			STX SCR2
			LDX SPRITE_ORA_LO_HI,Y
			STX SCR2 +1
			LDX SPRITE_ORA_HI_LO,Y
			STX SCR3
			LDX SPRITE_ORA_HI_HI,Y
			STX SCR3 +1

			LDX SPRITE_TYPE,Y
			STX SPRN_TMPB+1

			AND #3
			TAY

			LDA (SCR2),Y
            STA SPR_ORA
			LDA (SCR3),Y
            STA SPR_ORA +1
			LAX (SCR0),Y
			LDA (SCR1),Y
   
SPRN_TMPB	JMP (SPRITE_DRW_JMP_LIST)
.ENDL

.LOCAL	CLEAR_SPRITE
  			LDX SPRITE_TYPE,Y
 			STX SPRN_TMPB+1
			TAY
SPRN_TMPB	JMP (SPRITE_CLR_JMP_LIST)
.ENDL

.LOCAL	DRAW_01
		LDA	SC_LO,Y
		STA	SCR0
SCPTD1	LDA	SC0_HI,Y 
		STA	SCR0+1 
		LDY	SCR_HOR,X
		LDA	(SCR0),Y
		ORA	SCR_OR,X
		STA	(SCR0),Y 
		RTS
.ENDL

.LOCAL	CLEAR_01
		LDA	SC_LO,Y
		STA	SCR0
SCPTC1	LDA	SC0_HI,Y 
		STA	SCR0+1 
		LDY	SCR_HOR,X
		LDA	#0
		STA	(SCR0),Y 
		RTS
.ENDL

.MACRO	INCXY
			INX
			BNE CONT
				INY
CONT
.ENDM

.MACRO	ADDAX
			ADC #32
			BCC	CONT
				INX
				CLC
CONT
.ENDM

.MACRO	ADDAX_NOC
			ADC #32
			BCC	CONT
				INX
;				CLC not needed
CONT
.ENDM

.MACRO	ADDAY
			ADC #32
			BCC	CONT
				INY
				CLC
CONT
.ENDM

.MACRO	ADDAY_NOC
			ADC #32
			BCC	CONT
				INY
;				CLC not needed
CONT
.ENDM

.LOCAL	DRAW_08
			STX SPA01 +1
			STA SPA01 +2
			INX
			STX SPA02 +1
			STA SPA02 +2
			INX 
			STX SPA03 +1
			STA SPA03 +2
			INX 
			STX SPA04 +1
			STA SPA04 +2
			INX 
			STX SPA05 +1
			STA SPA05 +2
			INX 
			STX SPA06 +1
			STA SPA06 +2
			INX 
			STX SPA07 +1
			STA SPA07 +2
			INX 
			STX SPA08 +1
			STA SPA08 +2

			LDX SPR_ORA
			LDA SPR_ORA +1
			STX SPO01 +1
			STA SPO01 +2
			INX 
			STX SPO02 +1
			STA SPO02 +2
			INX 
			STX SPO03 +1
			STA SPO03 +2
			INX 
			STX SPO04 +1
			STA SPO04 +2
			INX 
			STX SPO05 +1
			STA SPO05 +2
			INX 
			STX SPO06 +1
			STA SPO06 +2
			INX 
			STX SPO07 +1
			STA SPO07 +2
			INX 
			STX SPO08 +1
			STA SPO08 +2
 
			LAX REGY ; V
SCPTD8		LDY SC0_HI +0,X
			STY SCR0 +1
			
			LSR
			BCS	ODD_12221

EVEN_2222:	LDA SC_LO +0,X
			STA SCR0

			CLC			
			ADC	#32
			STY SCR1 +1
			STA SCR1

			ADDAY
			STY SCR2 +1
			STA SCR2
			ADC	#32
			STY SCR3 +1
			STA SCR3

			ADDAY
			STY SCR4 +1
			STA SCR4
			ADC	#32
			STY SCR5 +1
			STA SCR5
			
			ADDAY
			STY SCR6 +1
			STA SCR6
			ADC	#32
			STY SCR7 +1
			STA SCR7

			BVC	CONT ; JMP

ODD_12221:	LDA SC_LO +0,X
			STA SCR0

			CLC			
			ADDAY
			STY SCR1 +1
			STA SCR1

			ADC	#32
			STY SCR2 +1
			STA SCR2
			ADDAY
			STY SCR3 +1
			STA SCR3

			ADC	#32
			STY SCR4 +1
			STA SCR4

			ADDAY
			STY SCR5 +1
			STA SCR5
			
			ADC	#32
			STY SCR6 +1
			STA SCR6

			ADDAY_NOC
			STY SCR7 +1
			STA SCR7
			
CONT:		LDX REGX
			LDY SCR_HOR,X
			
			LDA	SPR08_DRW_CNT,X
			TAX
			
LOOP
				LDA	(SCR7),Y
SPA08 			AND $ABCD,X
SPO08 			ORA $ABCD,X
				STA	(SCR7),Y

				LDA	(SCR6),Y
SPA07 			AND $ABCD,X
SPO07 			ORA $ABCD,X
				STA	(SCR6),Y

				LDA	(SCR5),Y
SPA06 			AND $ABCD,X
SPO06 			ORA $ABCD,X
				STA	(SCR5),Y

				LDA	(SCR4),Y
SPA05 			AND $ABCD,X
SPO05 			ORA $ABCD,X
				STA	(SCR4),Y

				LDA	(SCR3),Y
SPA04 			AND $ABCD,X
SPO04 			ORA $ABCD,X
				STA	(SCR3),Y

				LDA	(SCR2),Y
SPA03 			AND $ABCD,X
SPO03 			ORA $ABCD,X
				STA	(SCR2),Y

				LDA	(SCR1),Y
SPA02 			AND $ABCD,X
SPO02 			ORA $ABCD,X
				STA	(SCR1),Y

				LDA	(SCR0),Y
SPA01 			AND $ABCD,X
SPO01 			ORA $ABCD,X
				STA	(SCR0),Y

				INY
				
				LDA #$FF
				SBX #8 ; = x=x-8 ; #$fc ;equivalent to +4
;				TXA
;				SBC #8		; carry set
;				TAX

			BNE LOOP
		RTS
.ENDL

.LOCAL	CLEAR_08
SCPTC8		LDX SC0_HI +0,Y
			STX SCR0 +1

			LSR
			BCS	ODD_12221

EVEN_2222:	LDA SC_LO +0,Y
			STA SCR0
			CLC			
			ADC	#32
			STX SCR1 +1
			STA SCR1

			ADDAX
			STX SCR2 +1
			STA SCR2
			ADC	#32
			STX SCR3 +1
			STA SCR3

			ADDAX
			STX SCR4 +1
			STA SCR4
			ADC	#32
			STX SCR5 +1
			STA SCR5
			
			ADDAX
			STX SCR6 +1
			STA SCR6
			ADC	#32
			STX SCR7 +1
			STA SCR7

			BVC	CONT ; JMP

ODD_12221:	LDA SC_LO +0,Y
			STA SCR0

			CLC			
			ADDAX
			STX SCR1 +1
			STA SCR1

			ADC	#32
			STX SCR2 +1
			STA SCR2
			ADDAX
			STX SCR3 +1
			STA SCR3

			ADC	#32
			STX SCR4 +1
			STA SCR4

			ADDAX
			STX SCR5 +1
			STA SCR5
			
			ADC	#32
			STX SCR6 +1
			STA SCR6

			ADDAX_NOC
			STX SCR7 +1
			STA SCR7
			
CONT:		LDX REGX
			LDY SCR_HOR,X
			LDA	SPR08_CLR_CNT,X
			TAX

			LDA	#0
LOOP			STA	(SCR0),Y
				STA	(SCR1),Y
				STA	(SCR2),Y
				STA	(SCR3),Y
				STA	(SCR4),Y
				STA	(SCR5),Y
				STA	(SCR6),Y
				STA	(SCR7),Y
				INY
				DEX
			BNE LOOP
		RTS
.ENDL

;.LOCAL	V_WAIT
;			LDA	#111
;LOOP			CMP	VCOUNT  ; will be equal until incremented in VB
;				BNE	LOOP
;			RTS
;.ENDL

.LOCAL	JOYSTICK
			LDA PORTA
			LSR
			BCS   UP
				DEC   TV
UP       	LSR
			BCS   DOWN
				INC   TV
DOWN     	LSR
			BCS   LEFT
				DEC   TH
LEFT     	LSR
			BCS   RIGHT
				INC   TH
RIGHT    	AND   #1
			STA   FIRE
			RTS
.ENDL

MOVE_TEMP .BYTE 0

.LOCAL	MOVE_HV
; RTS
			LDY TMP_CNT
LOOP
;	BORDER $BA
			LAX TMPH,Y
				CLC
				ADC TMPMH,Y
				CMP #128-9
				BCC CONT_H
					LDA	TMPMH,Y
					EOR	#255
					ADC	#0
					STA	TMPMH,Y
					TXA
CONT_H			STA TMPH,Y
				LAX TMPV,Y
				CLC
				ADC TMPMV,Y
				CMP #192-9
				BCC CONT_V
					LDA	TMPMV,Y
					EOR	#255
					ADC	#0
					STA	TMPMV,Y
					TXA
CONT_V			STA TMPV,Y
;		BORDER 0
				DEY
				BNE	LOOP
			RTS
.ENDL

.LOCAL	MEMSET
			STY	LSB_ONLY+1 ; store LSB count
			CPX	#0          ; MSB?     
            BEQ	LSB_ONLY   ; no

            LDY	#0          ; yes so reset LSB
MSB_LOOP  
LSB_LOOP    		STA	(SCR0),Y   ; clear whole MSB
					DEY 
					BNE	LSB_LOOP

				INC	SCR0+1      ; inc MSB
				DEX               ; dec MSB count
				BNE	MSB_LOOP

LSB_ONLY    LDY	#0          ; LSB count 
            BEQ	MS_END     ; not needed

LAST_LSB_LOOP 	STA	(SCR0),Y
				DEY 
				BNE	LAST_LSB_LOOP
                
            STA	(SCR0),Y     ; clear last Y (0)
MS_END      RTS
.ENDL

	.ALIGN $100
;WHT_LINE_ADR
;.REPT	40
; .BYTE %11111111
;.ENDR
;GRY_LINE_ADR
;.REPT	40
; .BYTE %10101010
;.ENDR
;BLK_LINE_ADR
;.REPT	40
; .BYTE %00000000
;.ENDR

;	.ALIGN $100
;TXT_SCR_ADR
;.REPT	40*5
; .BYTE %10101010
;.ENDR

;	.ALIGN $100
;MAP_SCR_ADR
;.REPT	20*40
; .BYTE %10101010
;.ENDR

;	.ALIGN $100
;DSP_SCR_ADR
;.REPT	80*42
; .BYTE %01010101
;.ENDR
	

; 1
; 1		2
; 5		7
; 1		8
; 1		9
; 20	29
; 1		30
; 160	190
; 1		1

	.ALIGN $100
SC0_HI	
	.BYTE >SCN0_LINE000,>SCN0_LINE001,>SCN0_LINE002,>SCN0_LINE003>SCN0_LINE004,>SCN0_LINE005,>SCN0_LINE006,>SCN0_LINE007,>SCN0_LINE008,>SCN0_LINE009
	.BYTE >SCN0_LINE010,>SCN0_LINE011,>SCN0_LINE012,>SCN0_LINE013>SCN0_LINE014,>SCN0_LINE015,>SCN0_LINE016,>SCN0_LINE017,>SCN0_LINE018,>SCN0_LINE019
	.BYTE >SCN0_LINE020,>SCN0_LINE021,>SCN0_LINE022,>SCN0_LINE023>SCN0_LINE024,>SCN0_LINE025,>SCN0_LINE026,>SCN0_LINE027,>SCN0_LINE028,>SCN0_LINE029
	.BYTE >SCN0_LINE030,>SCN0_LINE031,>SCN0_LINE032,>SCN0_LINE033>SCN0_LINE034,>SCN0_LINE035,>SCN0_LINE036,>SCN0_LINE037,>SCN0_LINE038,>SCN0_LINE039
	.BYTE >SCN0_LINE040,>SCN0_LINE041,>SCN0_LINE042,>SCN0_LINE043>SCN0_LINE044,>SCN0_LINE045,>SCN0_LINE046,>SCN0_LINE047,>SCN0_LINE048,>SCN0_LINE049
	.BYTE >SCN0_LINE050,>SCN0_LINE051,>SCN0_LINE052,>SCN0_LINE053>SCN0_LINE054,>SCN0_LINE055,>SCN0_LINE056,>SCN0_LINE057,>SCN0_LINE058,>SCN0_LINE059
	.BYTE >SCN0_LINE060,>SCN0_LINE061,>SCN0_LINE062,>SCN0_LINE063>SCN0_LINE064,>SCN0_LINE065,>SCN0_LINE066,>SCN0_LINE067,>SCN0_LINE068,>SCN0_LINE069
	.BYTE >SCN0_LINE070,>SCN0_LINE071,>SCN0_LINE072,>SCN0_LINE073>SCN0_LINE074,>SCN0_LINE075,>SCN0_LINE076,>SCN0_LINE077,>SCN0_LINE078,>SCN0_LINE079
	.BYTE >SCN0_LINE080,>SCN0_LINE081,>SCN0_LINE082,>SCN0_LINE083>SCN0_LINE084,>SCN0_LINE085,>SCN0_LINE086,>SCN0_LINE087,>SCN0_LINE088,>SCN0_LINE089
	.BYTE >SCN0_LINE090,>SCN0_LINE091,>SCN0_LINE092,>SCN0_LINE093>SCN0_LINE094,>SCN0_LINE095,>SCN0_LINE096,>SCN0_LINE097,>SCN0_LINE098,>SCN0_LINE099
	.BYTE >SCN0_LINE100,>SCN0_LINE101,>SCN0_LINE102,>SCN0_LINE103>SCN0_LINE104,>SCN0_LINE105,>SCN0_LINE106,>SCN0_LINE107,>SCN0_LINE108,>SCN0_LINE109
	.BYTE >SCN0_LINE110,>SCN0_LINE111,>SCN0_LINE112,>SCN0_LINE113>SCN0_LINE114,>SCN0_LINE115,>SCN0_LINE116,>SCN0_LINE117,>SCN0_LINE118,>SCN0_LINE119
	.BYTE >SCN0_LINE120,>SCN0_LINE121,>SCN0_LINE122,>SCN0_LINE123>SCN0_LINE124,>SCN0_LINE125,>SCN0_LINE126,>SCN0_LINE127,>SCN0_LINE128,>SCN0_LINE129
	.BYTE >SCN0_LINE130,>SCN0_LINE131,>SCN0_LINE132,>SCN0_LINE133>SCN0_LINE134,>SCN0_LINE135,>SCN0_LINE136,>SCN0_LINE137,>SCN0_LINE138,>SCN0_LINE139
	.BYTE >SCN0_LINE140,>SCN0_LINE141,>SCN0_LINE142,>SCN0_LINE143>SCN0_LINE144,>SCN0_LINE145,>SCN0_LINE146,>SCN0_LINE147,>SCN0_LINE148,>SCN0_LINE149
	.BYTE >SCN0_LINE150,>SCN0_LINE151,>SCN0_LINE152,>SCN0_LINE153>SCN0_LINE154,>SCN0_LINE155,>SCN0_LINE156,>SCN0_LINE157,>SCN0_LINE158,>SCN0_LINE159

	.ALIGN $100
SC1_HI	
	.BYTE >SCN0_LINE000,>SCN0_LINE001,>SCN0_LINE002,>SCN0_LINE003>SCN0_LINE004,>SCN0_LINE005,>SCN0_LINE006,>SCN0_LINE007,>SCN0_LINE008,>SCN0_LINE009
	.BYTE >SCN0_LINE010,>SCN0_LINE011,>SCN0_LINE012,>SCN0_LINE013>SCN0_LINE014,>SCN0_LINE015,>SCN0_LINE016,>SCN0_LINE017,>SCN0_LINE018,>SCN0_LINE019
	.BYTE >SCN0_LINE020,>SCN0_LINE021,>SCN0_LINE022,>SCN0_LINE023>SCN0_LINE024,>SCN0_LINE025,>SCN0_LINE026,>SCN0_LINE027,>SCN0_LINE028,>SCN0_LINE029
	.BYTE >SCN0_LINE030,>SCN0_LINE031,>SCN0_LINE032,>SCN0_LINE033>SCN0_LINE034,>SCN0_LINE035,>SCN0_LINE036,>SCN0_LINE037,>SCN0_LINE038,>SCN0_LINE039
	.BYTE >SCN0_LINE040,>SCN0_LINE041,>SCN0_LINE042,>SCN0_LINE043>SCN0_LINE044,>SCN0_LINE045,>SCN0_LINE046,>SCN0_LINE047,>SCN0_LINE048,>SCN0_LINE049
	.BYTE >SCN0_LINE050,>SCN0_LINE051,>SCN0_LINE052,>SCN0_LINE053>SCN0_LINE054,>SCN0_LINE055,>SCN0_LINE056,>SCN0_LINE057,>SCN0_LINE058,>SCN0_LINE059
	.BYTE >SCN0_LINE060,>SCN0_LINE061,>SCN0_LINE062,>SCN0_LINE063>SCN0_LINE064,>SCN0_LINE065,>SCN0_LINE066,>SCN0_LINE067,>SCN0_LINE068,>SCN0_LINE069
	.BYTE >SCN0_LINE070,>SCN0_LINE071,>SCN0_LINE072,>SCN0_LINE073>SCN0_LINE074,>SCN0_LINE075,>SCN0_LINE076,>SCN0_LINE077,>SCN0_LINE078,>SCN0_LINE079
	.BYTE >SCN0_LINE080,>SCN0_LINE081,>SCN0_LINE082,>SCN0_LINE083>SCN0_LINE084,>SCN0_LINE085,>SCN0_LINE086,>SCN0_LINE087,>SCN0_LINE088,>SCN0_LINE089
	.BYTE >SCN0_LINE090,>SCN0_LINE091,>SCN0_LINE092,>SCN0_LINE093>SCN0_LINE094,>SCN0_LINE095,>SCN0_LINE096,>SCN0_LINE097,>SCN0_LINE098,>SCN0_LINE099
	.BYTE >SCN0_LINE100,>SCN0_LINE101,>SCN0_LINE102,>SCN0_LINE103>SCN0_LINE104,>SCN0_LINE105,>SCN0_LINE106,>SCN0_LINE107,>SCN0_LINE108,>SCN0_LINE109
	.BYTE >SCN0_LINE110,>SCN0_LINE111,>SCN0_LINE112,>SCN0_LINE113>SCN0_LINE114,>SCN0_LINE115,>SCN0_LINE116,>SCN0_LINE117,>SCN0_LINE118,>SCN0_LINE119
	.BYTE >SCN0_LINE120,>SCN0_LINE121,>SCN0_LINE122,>SCN0_LINE123>SCN0_LINE124,>SCN0_LINE125,>SCN0_LINE126,>SCN0_LINE127,>SCN0_LINE128,>SCN0_LINE129
	.BYTE >SCN0_LINE130,>SCN0_LINE131,>SCN0_LINE132,>SCN0_LINE133>SCN0_LINE134,>SCN0_LINE135,>SCN0_LINE136,>SCN0_LINE137,>SCN0_LINE138,>SCN0_LINE139
	.BYTE >SCN0_LINE140,>SCN0_LINE141,>SCN0_LINE142,>SCN0_LINE143>SCN0_LINE144,>SCN0_LINE145,>SCN0_LINE146,>SCN0_LINE147,>SCN0_LINE148,>SCN0_LINE149
	.BYTE >SCN0_LINE150,>SCN0_LINE151,>SCN0_LINE152,>SCN0_LINE153>SCN0_LINE154,>SCN0_LINE155,>SCN0_LINE156,>SCN0_LINE157,>SCN0_LINE158,>SCN0_LINE159

	.ALIGN $100
SC_LO
	.BYTE <SCN0_LINE000,<SCN0_LINE001,>SCN0_LINE002,>SCN0_LINE003>SCN0_LINE004,>SCN0_LINE005,>SCN0_LINE006,>SCN0_LINE007,>SCN0_LINE008,>SCN0_LINE009
	.BYTE <SCN0_LINE010,<SCN0_LINE011,>SCN0_LINE012,>SCN0_LINE013>SCN0_LINE014,>SCN0_LINE015,>SCN0_LINE016,>SCN0_LINE017,>SCN0_LINE018,>SCN0_LINE019
	.BYTE <SCN0_LINE020,<SCN0_LINE021,>SCN0_LINE022,>SCN0_LINE023>SCN0_LINE024,>SCN0_LINE025,>SCN0_LINE026,>SCN0_LINE027,>SCN0_LINE028,>SCN0_LINE029
	.BYTE <SCN0_LINE030,<SCN0_LINE031,>SCN0_LINE032,>SCN0_LINE033>SCN0_LINE034,>SCN0_LINE035,>SCN0_LINE036,>SCN0_LINE037,>SCN0_LINE038,>SCN0_LINE039
	.BYTE <SCN0_LINE040,<SCN0_LINE041,>SCN0_LINE042,>SCN0_LINE043>SCN0_LINE044,>SCN0_LINE045,>SCN0_LINE046,>SCN0_LINE047,>SCN0_LINE048,>SCN0_LINE049
	.BYTE <SCN0_LINE050,<SCN0_LINE051,>SCN0_LINE052,>SCN0_LINE053>SCN0_LINE054,>SCN0_LINE055,>SCN0_LINE056,>SCN0_LINE057,>SCN0_LINE058,>SCN0_LINE059
	.BYTE <SCN0_LINE060,<SCN0_LINE061,>SCN0_LINE062,>SCN0_LINE063>SCN0_LINE064,>SCN0_LINE065,>SCN0_LINE066,>SCN0_LINE067,>SCN0_LINE068,>SCN0_LINE069
	.BYTE <SCN0_LINE070,<SCN0_LINE071,>SCN0_LINE072,>SCN0_LINE073>SCN0_LINE074,>SCN0_LINE075,>SCN0_LINE076,>SCN0_LINE077,>SCN0_LINE078,>SCN0_LINE079
	.BYTE <SCN0_LINE080,<SCN0_LINE081,>SCN0_LINE082,>SCN0_LINE083>SCN0_LINE084,>SCN0_LINE085,>SCN0_LINE086,>SCN0_LINE087,>SCN0_LINE088,>SCN0_LINE089
	.BYTE <SCN0_LINE090,<SCN0_LINE091,>SCN0_LINE092,>SCN0_LINE093>SCN0_LINE094,>SCN0_LINE095,>SCN0_LINE096,>SCN0_LINE097,>SCN0_LINE098,>SCN0_LINE099
	.BYTE <SCN0_LINE100,<SCN0_LINE101,>SCN0_LINE102,>SCN0_LINE103>SCN0_LINE104,>SCN0_LINE105,>SCN0_LINE106,>SCN0_LINE107,>SCN0_LINE108,>SCN0_LINE109
	.BYTE <SCN0_LINE110,<SCN0_LINE111,>SCN0_LINE112,>SCN0_LINE113>SCN0_LINE114,>SCN0_LINE115,>SCN0_LINE116,>SCN0_LINE117,>SCN0_LINE118,>SCN0_LINE119
	.BYTE <SCN0_LINE120,<SCN0_LINE121,>SCN0_LINE122,>SCN0_LINE123>SCN0_LINE124,>SCN0_LINE125,>SCN0_LINE126,>SCN0_LINE127,>SCN0_LINE128,>SCN0_LINE129
	.BYTE <SCN0_LINE130,<SCN0_LINE131,>SCN0_LINE132,>SCN0_LINE133>SCN0_LINE134,>SCN0_LINE135,>SCN0_LINE136,>SCN0_LINE137,>SCN0_LINE138,>SCN0_LINE139
	.BYTE <SCN0_LINE140,<SCN0_LINE141,>SCN0_LINE142,>SCN0_LINE143>SCN0_LINE144,>SCN0_LINE145,>SCN0_LINE146,>SCN0_LINE147,>SCN0_LINE148,>SCN0_LINE149
	.BYTE <SCN0_LINE150,<SCN0_LINE151,>SCN0_LINE152,>SCN0_LINE153>SCN0_LINE154,>SCN0_LINE155,>SCN0_LINE156,>SCN0_LINE157,>SCN0_LINE158,>SCN0_LINE159

	.ALIGN $100
SCR_HOR
 .BYTE 00,00,00,00,01,01,01,01,02,02,02,02,03,03,03,03,04,04,04,04,05,05,05,05,06,06,06,06,07,07,07,07
 .BYTE 08,08,08,08,09,09,09,09,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15
 .BYTE 16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23
 .BYTE 24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31
SCR_OR
.REPT	32
 .BYTE $C0,$30,$0C,$03
.ENDR
SCR_AND
.REPT	32
 .BYTE $3F,$CF,$F3,$FC
.ENDR
SPR08_DRW_CNT
.REPT	32
 .BYTE 1*8, 2*8, 2*8, 2*8
.ENDR
SPR08_CLR_CNT
.REPT	32
 .BYTE 1, 2, 2, 2
.ENDR

SPR00_AND_LO .BYTE <(SPR00_AND_0-8),<(SPR00_AND_1-8),<(SPR00_AND_2-8),<(SPR00_AND_3-8)
SPR00_AND_HI .BYTE >(SPR00_AND_0-8),>(SPR00_AND_1-8),>(SPR00_AND_2-8),>(SPR00_AND_3-8)
SPR00_ORA_LO .BYTE <(SPR00_ORA_0-8),<(SPR00_ORA_1-8),<(SPR00_ORA_2-8),<(SPR00_ORA_3-8)
SPR00_ORA_HI .BYTE >(SPR00_ORA_0-8),>(SPR00_ORA_1-8),>(SPR00_ORA_2-8),>(SPR00_ORA_3-8)

SPRITE_AND_LO_LO .BYTE <SPR00_AND_LO
SPRITE_AND_LO_HI .BYTE >SPR00_AND_LO
SPRITE_AND_HI_LO .BYTE <SPR00_AND_HI
SPRITE_AND_HI_HI .BYTE >SPR00_AND_HI
SPRITE_ORA_LO_LO .BYTE <SPR00_ORA_LO
SPRITE_ORA_LO_HI .BYTE >SPR00_ORA_LO
SPRITE_ORA_HI_LO .BYTE <SPR00_ORA_HI
SPRITE_ORA_HI_HI .BYTE >SPR00_ORA_HI
SPRITE_TYPE      .BYTE 0,1,2,3

	.ALIGN 8
SPR00_ORA_0
;.BYTE %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000 ; remove?
.BYTE %00010100,%01111101,%01101001,%01000001,%01000001,%01101001,%01111101,%00010100

SPR00_ORA_1
.BYTE %00000000,%01000000,%01000000,%01000000,%01000000,%01000000,%01000000,%00000000
.BYTE %00000101,%00011111,%00011010,%00010000,%00010000,%00011010,%00011111,%00000101

SPR00_ORA_2
.BYTE %01000000,%11010000,%10010000,%00010000,%00010000,%10010000,%11010000,%01000000
.BYTE %00000001,%00000111,%00000110,%00000100,%00000100,%00000110,%00000111,%00000001

SPR00_ORA_3
.BYTE %01010000,%11110100,%10100100,%00000100,%00000100,%10100100,%11110100,%01010000
.BYTE %00000000,%00000001,%00000001,%00000001,%00000001,%00000001,%00000001,%00000000

SPR00_AND_0
;.BYTE %11111111,%11111111,%11111111,%11111111,%11111111,%11111111,%11111111,%11111111 ; remove?
.BYTE %11000011,%00000000,%00000000,%00111100,%00111100,%00000000,%00000000,%11000011

SPR00_AND_1
.BYTE %11111111,%00111111,%00111111,%00111111,%00111111,%00111111,%00111111,%11111111
.BYTE %11110000,%11000000,%11000000,%11001111,%11001111,%11000000,%11000000,%11110000

SPR00_AND_2
.BYTE %00111111,%00001111,%00001111,%11001111,%11001111,%00001111,%00001111,%00111111
.BYTE %11111100,%11110000,%11110000,%11110011,%11110011,%11110000,%11110000,%11111100

SPR00_AND_3
.BYTE %00001111,%00000011,%00000011,%11110011,%11110011,%00000011,%00000011,%00001111
.BYTE %11111111,%11111100,%11111100,%11111100,%11111100,%11111100,%11111100,%11111111

	.ALIGN $100
SPRITE_DRW_JMP_LIST	.WORD DRAW_08
SCR0_OBJ_V	.BYTE 	0,184,0,184,13,16,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,117,114,111,108,105
SCR0_OBJ_H	.BYTE 	0,0,120,120,13,16,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,117,114,111,108,105
SCR0_OBJ_T	.BYTE	0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0
SCR1_OBJ_V	.BYTE 	0,184,0,184,13,16,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,117,114,111,108,105
SCR1_OBJ_H	.BYTE 	0,0,120,120,13,16,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,117,114,111,108,105
SCR1_OBJ_T	.BYTE	0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0 ; word aligned so must be *2

	.ALIGN $100
SPRITE_CLR_JMP_LIST	.WORD CLEAR_08


.MACRO	DLI_LINE DLI_ADDR
    .BYTE SCREEN_ADR+SM,<:1,>:1
.ENDM 
	
	.ALIGN $400

DISPLAY_LIST		
	.BYTE BLANK_LINE,BLANK_LINE,BLANK_LINE	; Discard 24 scan lines
;DLI_SCN_T_ADDR
	DLI_LINE WHT_LINE_ADR
	DLI_LINE GRY_LINE_ADR
	DLI_LINE TXT_SCR_ADR
.REPT	5-1
	.BYTE SM
.ENDR
	DLI_LINE GRY_LINE_ADR
	DLI_LINE WHT_LINE_ADR

	DLI_LINE MAP_SCR_ADR
.REPT	20-1
	.BYTE SM
.ENDR
	DLI_LINE WHT_LINE_ADR

	DLI_LINE SCN0_LINE000
	DLI_LINE SCN0_LINE001
	DLI_LINE SCN0_LINE002
	DLI_LINE SCN0_LINE003
	DLI_LINE SCN0_LINE004
	DLI_LINE SCN0_LINE005
	DLI_LINE SCN0_LINE006
	DLI_LINE SCN0_LINE007
	DLI_LINE SCN0_LINE008
	DLI_LINE SCN0_LINE009

	DLI_LINE SCN0_LINE010
	DLI_LINE SCN0_LINE011
	DLI_LINE SCN0_LINE012
	DLI_LINE SCN0_LINE013
	DLI_LINE SCN0_LINE014
	DLI_LINE SCN0_LINE015
	DLI_LINE SCN0_LINE016
	DLI_LINE SCN0_LINE017
	DLI_LINE SCN0_LINE018
	DLI_LINE SCN0_LINE019

	DLI_LINE SCN0_LINE020
	DLI_LINE SCN0_LINE021
	DLI_LINE SCN0_LINE022
	DLI_LINE SCN0_LINE023
	DLI_LINE SCN0_LINE024
	DLI_LINE SCN0_LINE025
	DLI_LINE SCN0_LINE026
	DLI_LINE SCN0_LINE027
	DLI_LINE SCN0_LINE028
	DLI_LINE SCN0_LINE029

	DLI_LINE SCN0_LINE030
	DLI_LINE SCN0_LINE031
	DLI_LINE SCN0_LINE032
	DLI_LINE SCN0_LINE033
	DLI_LINE SCN0_LINE034
	DLI_LINE SCN0_LINE035
	DLI_LINE SCN0_LINE036
	DLI_LINE SCN0_LINE037
	DLI_LINE SCN0_LINE038
	DLI_LINE SCN0_LINE039

	DLI_LINE SCN0_LINE040
	DLI_LINE SCN0_LINE041
	DLI_LINE SCN0_LINE042
	DLI_LINE SCN0_LINE043
	DLI_LINE SCN0_LINE044
	DLI_LINE SCN0_LINE045
	DLI_LINE SCN0_LINE046
	DLI_LINE SCN0_LINE047
	DLI_LINE SCN0_LINE048
	DLI_LINE SCN0_LINE049

	DLI_LINE SCN0_LINE050
	DLI_LINE SCN0_LINE051
	DLI_LINE SCN0_LINE052
	DLI_LINE SCN0_LINE053
	DLI_LINE SCN0_LINE054
	DLI_LINE SCN0_LINE055
	DLI_LINE SCN0_LINE056
	DLI_LINE SCN0_LINE057
	DLI_LINE SCN0_LINE058
	DLI_LINE SCN0_LINE059

	DLI_LINE SCN0_LINE060
	DLI_LINE SCN0_LINE061
	DLI_LINE SCN0_LINE062
	DLI_LINE SCN0_LINE063
	DLI_LINE SCN0_LINE064
	DLI_LINE SCN0_LINE065
	DLI_LINE SCN0_LINE066
	DLI_LINE SCN0_LINE067
	DLI_LINE SCN0_LINE068
	DLI_LINE SCN0_LINE069

	DLI_LINE SCN0_LINE070
	DLI_LINE SCN0_LINE071
	DLI_LINE SCN0_LINE072
	DLI_LINE SCN0_LINE073
	DLI_LINE SCN0_LINE074
	DLI_LINE SCN0_LINE075
	DLI_LINE SCN0_LINE076
	DLI_LINE SCN0_LINE077
	DLI_LINE SCN0_LINE078
	DLI_LINE SCN0_LINE079

	DLI_LINE SCN0_LINE080
	DLI_LINE SCN0_LINE081
	DLI_LINE SCN0_LINE082
	DLI_LINE SCN0_LINE083
	DLI_LINE SCN0_LINE084
	DLI_LINE SCN0_LINE085
	DLI_LINE SCN0_LINE086
	DLI_LINE SCN0_LINE087
	DLI_LINE SCN0_LINE088
	DLI_LINE SCN0_LINE089

	DLI_LINE SCN0_LINE090
	DLI_LINE SCN0_LINE091
	DLI_LINE SCN0_LINE092
	DLI_LINE SCN0_LINE093
	DLI_LINE SCN0_LINE094
	DLI_LINE SCN0_LINE095
	DLI_LINE SCN0_LINE096
	DLI_LINE SCN0_LINE097
	DLI_LINE SCN0_LINE098
	DLI_LINE SCN0_LINE099

	DLI_LINE SCN0_LINE100
	DLI_LINE SCN0_LINE101
	DLI_LINE SCN0_LINE102
	DLI_LINE SCN0_LINE103
	DLI_LINE SCN0_LINE104
	DLI_LINE SCN0_LINE105
	DLI_LINE SCN0_LINE106
	DLI_LINE SCN0_LINE107
	DLI_LINE SCN0_LINE108
	DLI_LINE SCN0_LINE109
	
	DLI_LINE SCN0_LINE110
	DLI_LINE SCN0_LINE111
	DLI_LINE SCN0_LINE112
	DLI_LINE SCN0_LINE113
	DLI_LINE SCN0_LINE114
	DLI_LINE SCN0_LINE115
	DLI_LINE SCN0_LINE116
	DLI_LINE SCN0_LINE117
	DLI_LINE SCN0_LINE118
	DLI_LINE SCN0_LINE119

	DLI_LINE SCN0_LINE120
	DLI_LINE SCN0_LINE121
	DLI_LINE SCN0_LINE122
	DLI_LINE SCN0_LINE123
	DLI_LINE SCN0_LINE124
	DLI_LINE SCN0_LINE125
	DLI_LINE SCN0_LINE126
	DLI_LINE SCN0_LINE127
	DLI_LINE SCN0_LINE128
	DLI_LINE SCN0_LINE129

	DLI_LINE SCN0_LINE130
	DLI_LINE SCN0_LINE131
	DLI_LINE SCN0_LINE132
	DLI_LINE SCN0_LINE133
	DLI_LINE SCN0_LINE134
	DLI_LINE SCN0_LINE135
	DLI_LINE SCN0_LINE136
	DLI_LINE SCN0_LINE137
	DLI_LINE SCN0_LINE138
	DLI_LINE SCN0_LINE139

	DLI_LINE SCN0_LINE140
	DLI_LINE SCN0_LINE141
	DLI_LINE SCN0_LINE142
	DLI_LINE SCN0_LINE143
	DLI_LINE SCN0_LINE144
	DLI_LINE SCN0_LINE145
	DLI_LINE SCN0_LINE146
	DLI_LINE SCN0_LINE147
	DLI_LINE SCN0_LINE148
	DLI_LINE SCN0_LINE149

	DLI_LINE SCN0_LINE150
	DLI_LINE SCN0_LINE151
	DLI_LINE SCN0_LINE152
	DLI_LINE SCN0_LINE153
	DLI_LINE SCN0_LINE154
	DLI_LINE SCN0_LINE155
	DLI_LINE SCN0_LINE156
	DLI_LINE SCN0_LINE157
	DLI_LINE SCN0_LINE158
	DLI_LINE SCN0_LINE159

	DLI_LINE WHT_LINE_ADR
	.BYTE DLI_INT+SM
	.BYTE DISP_LIST,<DISPLAY_LIST,>DISPLAY_LIST

.ALIGN $1000
SCN0_T ; screen	
SCN0_B	EQU	SCN0_T +4096
; 2k spare between end of SCN0_B and start of SCN1_T ?
SCN1_T	EQU	SCN0_B +4096
SCN1_B	EQU	SCN1_T +4096

SCN0_LINE000 = SCN0_T +(42*000)
SCN0_LINE001 = SCN0_T +(42*001)
SCN0_LINE002 = SCN0_T +(42*002)
SCN0_LINE003 = SCN0_T +(42*003)
SCN0_LINE004 = SCN0_T +(42*004)
SCN0_LINE005 = SCN0_T +(42*005)

SCN0_LINE006 = SCN0_LINE000 +256
SCN0_LINE007 = SCN0_T +(42*007)
SCN0_LINE008 = SCN0_T +(42*008)
SCN0_LINE009 = SCN0_T +(42*009)
SCN0_LINE010 = SCN0_T +(42*010)
SCN0_LINE011 = SCN0_T +(42*011)

SCN0_LINE012 = SCN0_LINE006 +256
SCN0_LINE013 = SCN0_T +(42*013)
SCN0_LINE014 = SCN0_T +(42*014)
SCN0_LINE015 = SCN0_T +(42*015)
SCN0_LINE016 = SCN0_T +(42*016)
SCN0_LINE017 = SCN0_T +(42*017)

SCN0_LINE018 = SCN0_LINE012 +256
SCN0_LINE019 = SCN0_T +(42*019)
SCN0_LINE020 = SCN0_T +(42*020)
SCN0_LINE021 = SCN0_T +(42*021)
SCN0_LINE022 = SCN0_T +(42*022)
SCN0_LINE023 = SCN0_T +(42*023)

SCN0_LINE024 = SCN0_LINE018 +256
SCN0_LINE025 = SCN0_T +(42*025)
SCN0_LINE026 = SCN0_T +(42*026)
SCN0_LINE027 = SCN0_T +(42*027)
SCN0_LINE028 = SCN0_T +(42*028)
SCN0_LINE029 = SCN0_T +(42*029)

SCN0_LINE030 = SCN0_LINE024 +256
SCN0_LINE031 = SCN0_T +(42*031)
SCN0_LINE032 = SCN0_T +(42*032)
SCN0_LINE033 = SCN0_T +(42*033)
SCN0_LINE034 = SCN0_T +(42*034)
SCN0_LINE035 = SCN0_T +(42*035)

SCN0_LINE036 = SCN0_LINE030 +256
SCN0_LINE037 = SCN0_T +(42*037)
SCN0_LINE038 = SCN0_T +(42*038)
SCN0_LINE039 = SCN0_T +(42*039)
SCN0_LINE040 = SCN0_T +(42*040)
SCN0_LINE041 = SCN0_T +(42*041)

SCN0_LINE042 = SCN0_LINE036 +256
SCN0_LINE043 = SCN0_T +(42*043)
SCN0_LINE044 = SCN0_T +(42*044)
SCN0_LINE045 = SCN0_T +(42*045)
SCN0_LINE046 = SCN0_T +(42*046)
SCN0_LINE047 = SCN0_T +(42*047)

SCN0_LINE048 = SCN0_LINE042 +256
SCN0_LINE049 = SCN0_T +(42*049)
SCN0_LINE050 = SCN0_T +(42*050)
SCN0_LINE051 = SCN0_T +(42*051)
SCN0_LINE052 = SCN0_T +(42*052)
SCN0_LINE053 = SCN0_T +(42*053)

SCN0_LINE054 = SCN0_LINE048 +256
SCN0_LINE055 = SCN0_T +(42*055)
SCN0_LINE056 = SCN0_T +(42*056)
SCN0_LINE057 = SCN0_T +(42*057)
SCN0_LINE058 = SCN0_T +(42*058)
SCN0_LINE059 = SCN0_T +(42*059)

SCN0_LINE060 = SCN0_LINE054 +256
SCN0_LINE061 = SCN0_T +(42*061)
SCN0_LINE062 = SCN0_T +(42*062)
SCN0_LINE063 = SCN0_T +(42*063)
SCN0_LINE064 = SCN0_T +(42*064)
SCN0_LINE065 = SCN0_T +(42*065)

SCN0_LINE066 = SCN0_LINE060 +256
SCN0_LINE067 = SCN0_T +(42*067)
SCN0_LINE068 = SCN0_T +(42*068)
SCN0_LINE069 = SCN0_T +(42*069)
SCN0_LINE070 = SCN0_T +(42*070)
SCN0_LINE071 = SCN0_T +(42*071)

SCN0_LINE072 = SCN0_LINE066 +256
SCN0_LINE073 = SCN0_T +(42*073)
SCN0_LINE074 = SCN0_T +(42*074)
SCN0_LINE075 = SCN0_T +(42*075)
SCN0_LINE076 = SCN0_T +(42*076)
SCN0_LINE077 = SCN0_T +(42*077)

SCN0_LINE078 = SCN0_LINE072 +256
SCN0_LINE079 = SCN0_T +(42*079)
SCN0_LINE080 = SCN0_T +(42*080)
SCN0_LINE081 = SCN0_T +(42*081)
SCN0_LINE082 = SCN0_T +(42*082)
SCN0_LINE083 = SCN0_T +(42*083)

SCN0_LINE084 = SCN0_LINE078 +256
SCN0_LINE085 = SCN0_T +(42*085)
SCN0_LINE086 = SCN0_T +(42*086)
SCN0_LINE087 = SCN0_T +(42*087)
SCN0_LINE088 = SCN0_T +(42*088)
SCN0_LINE089 = SCN0_T +(42*089)

SCN0_LINE090 = SCN0_LINE084 +256
SCN0_LINE091 = SCN0_T +(42*091)
SCN0_LINE092 = SCN0_T +(42*092)
SCN0_LINE093 = SCN0_T +(42*093)
SCN0_LINE094 = SCN0_T +(42*094)
SCN0_LINE095 = SCN0_T +(42*095)

SCN0_LINE096 = SCN0_LINE090 +256
SCN0_LINE097 = SCN0_T +(42*097)
SCN0_LINE098 = SCN0_T +(42*098)
SCN0_LINE099 = SCN0_T +(42*099)
SCN0_LINE100 = SCN0_T +(42*100)
SCN0_LINE101 = SCN0_T +(42*101)

SCN0_LINE102 = SCN0_LINE096 +256
SCN0_LINE103 = SCN0_T +(42*103)
SCN0_LINE104 = SCN0_T +(42*104)
SCN0_LINE105 = SCN0_T +(42*105)
SCN0_LINE106 = SCN0_T +(42*106)
SCN0_LINE107 = SCN0_T +(42*107)

SCN0_LINE108 = SCN0_LINE102 +256
SCN0_LINE109 = SCN0_T +(42*109)
SCN0_LINE110 = SCN0_T +(42*110)
SCN0_LINE111 = SCN0_T +(42*111)
SCN0_LINE112 = SCN0_T +(42*112)
SCN0_LINE113 = SCN0_T +(42*113)

SCN0_LINE114 = SCN0_LINE108 +256
SCN0_LINE115 = SCN0_T +(42*115)
SCN0_LINE116 = SCN0_T +(42*116)
SCN0_LINE117 = SCN0_T +(42*117)
SCN0_LINE118 = SCN0_T +(42*118)
SCN0_LINE119 = SCN0_T +(42*119)

SCN0_LINE120 = SCN0_LINE114 +256
SCN0_LINE121 = SCN0_T +(42*121)
SCN0_LINE122 = SCN0_T +(42*122)
SCN0_LINE123 = SCN0_T +(42*123)
SCN0_LINE124 = SCN0_T +(42*124)
SCN0_LINE125 = SCN0_T +(42*125)

SCN0_LINE126 = SCN0_LINE120 +256
SCN0_LINE127 = SCN0_T +(42*127)
SCN0_LINE128 = SCN0_T +(42*128)
SCN0_LINE129 = SCN0_T +(42*129)
SCN0_LINE130 = SCN0_T +(42*130)
SCN0_LINE131 = SCN0_T +(42*131)

SCN0_LINE132 = SCN0_LINE126 +256
SCN0_LINE133 = SCN0_T +(42*133)
SCN0_LINE134 = SCN0_T +(42*134)
SCN0_LINE135 = SCN0_T +(42*135)
SCN0_LINE136 = SCN0_T +(42*136)
SCN0_LINE137 = SCN0_T +(42*137)

SCN0_LINE138 = SCN0_LINE132 +256
SCN0_LINE139 = SCN0_T +(42*139)
SCN0_LINE140 = SCN0_T +(42*140)
SCN0_LINE141 = SCN0_T +(42*141)
SCN0_LINE142 = SCN0_T +(42*142)
SCN0_LINE143 = SCN0_T +(42*143)

SCN0_LINE144 = SCN0_LINE138 +256
SCN0_LINE145 = SCN0_T +(42*145)
SCN0_LINE146 = SCN0_T +(42*146)
SCN0_LINE147 = SCN0_T +(42*147)
SCN0_LINE148 = SCN0_T +(42*148)
SCN0_LINE149 = SCN0_T +(42*149)

SCN0_LINE150 = SCN0_LINE144 +256
SCN0_LINE151 = SCN0_T +(42*151)
SCN0_LINE152 = SCN0_T +(42*152)
SCN0_LINE153 = SCN0_T +(42*153)
SCN0_LINE154 = SCN0_T +(42*154)
SCN0_LINE155 = SCN0_T +(42*155)

SCN0_LINE156 = SCN0_LINE150 +256
SCN0_LINE157 = SCN0_T +(42*157)
SCN0_LINE158 = SCN0_T +(42*158)
SCN0_LINE159 = SCN0_T +(42*159)
WHT_LINE_ADR = SCN0_LINE159 +42
GRY_LINE_ADR = WHT_LINE_ADR +40

TXT_SCR_ADR = SCN0_LINE156 +256
BLK_LINE_ADR = TXT_SCR_ADR +(5*40)

MAP_SCR_ADR = TXT_SCR_ADR +256
